{"version":3,"sources":["components/user-table-row.jsx","components/invoices-table.jsx","components/unpaid-invoice.jsx","components/user-receipts-invoices.jsx","components/rows-Custom-table.jsx","components/custom-Table.jsx","components/upload-bills.jsx","components/upload-receipts.jsx","components/upload-users.jsx","components/nav-bar/nav-bar-admin.jsx","pages/dashboard.jsx","pages/login.jsx","pages/register.jsx","pages/login-register.jsx","components/not-found.jsx","pages/unapproved.jsx","components/reset-password.jsx","components/nav-bar/nav-bar-user.jsx","components/user-bills.jsx","components/user-receipts-for-userPage.jsx","pages/userPage.jsx","pages/reset-password.jsx","pages/verifyUser.jsx","pages/forgotpassword.jsx","pages/myAccount.jsx","app.jsx","index.js"],"names":["axios","require","useStyles","makeStyles","table","minWidth","TableRow","TableCell","color","UserRow","user","token","getReceipts","classes","useState","isAdmin","admin_role","setAdmin_role","approved","setApproved","style","padding","name","email","Button","onClick","id","window","confirm","updated_user","password","put","headers","then","res","alert","data","message","catch","err","console","log","updateApprove","_id","variant","FormControl","className","formControl","Select","labelId","value","onChange","event","target","updateRole","MenuItem","textAlign","IconButton","aria-label","margin","delete","location","reload","headCells","numeric","date","disablePadding","label","addCommas","e","l","t","n","toString","indexOf","slice","length","compareDates","a","b","orderBy","date2","Date","getTime","date1","descendingComparator","getComparator","order","stableSort","array","comparator","stabilizedThis","map","el","index","sort","EnhancedTableHead","onRequestSort","TableHead","headCell","ind","align","sortDirection","paddingLeft","TableSortLabel","active","direction","property","visuallyHidden","theme","paper","marginBottom","spacing","border","clip","height","overflow","position","top","width","InvoicesTable","rows_data","inAdmin","React","setOrder","setOrderBy","page","setPage","rowsPerPage","setRowsPerPage","rows","setRows","useEffect","receipt","invoice","invoice_date","currency","due_amount","due_date","amount_paid","createData","bill_url","textDecoration","href","invoice_num","invoice_detials","invoice_dt","invoice_currency","final_bal_due","receipt_url","marginInline","Typography","marginTop","component","gutterBottom","Paper","TableContainer","Table","aria-labelledby","size","TableBody","row","hover","tabIndex","scope","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","parseInt","UnpaidInvoice","UserReceipts","userID","toggleView","setUser","receipts","setReceipts","bills","setBills","haveBills","setHavebills","haveReceipts","setHaveReceipts","receiptYTD","billYTD","setCurrency","getBills","get","InputLabel","marginLeft","Math","round","marginRight","fontSize","RowsInTable","coloum_names","colour","backgroundColor","element","CustomTable","errors","setColoum_names","keys","Object","entries","key","push","Container","Box","borderBottom","item","UploadBillsData","open","setOpen","data_user","setData_user","data_SO","setData_SO","data_to_be_send","setData_to_be_send","fileSelected","setFileSelected","fileCorrect","setCorrect","percentage","setPercentage","errors_in_custData","setErrors_in_custData","errors_in_SOData","setErrors_in_SOData","userDataTables","setUserDataTables","SODataTables","setSODataTables","errorColourCustData","setErrorColourCustData","errorsColourSOData","setErrorsColourSOData","bigError","setBigError","handleClose","sendUploadedFile","file","reader","FileReader","onload","evt","fileData","workbook","XLSX","type","cellDates","cellNF","cellText","SheetNames","forEach","sheetName","XL_row_object","sheet_to_row_object_array","Sheets","parseExcel","result","readAsBinaryString","noErrors","cloumn_name","i","temp_cloumn_name","j","found_in_temp","k","userData_tables","SOData_tables","one_user","toDateString","ColourCustData","includes","ColourSOData","Fragment","Dialog","fullWidth","maxWidth","onClose","DialogTitle","float","DialogContent","DialogContentText","title","accept","files","hidden","LinearProgress","DialogActions","options","onUploadProgress","progessEvent","loaded","total","precent","floor","post","setTimeout","disabled","UploadReceiptData","confirm_NotFound","setconfirm_NotFound","not_found_emails","setNot_found_emails","not_found_bills","setNot_found_bills","scrollRef","useRef","current","scrollIntoView","behaviour","ref","missing","not_found","emails","display","UploadUserData","root","flexGrow","menuButton","button_menu","NavBarAdmin","username","anchorEl","setAnchorEl","AppBar","Toolbar","edge","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","Boolean","replace","host","localStorage","removeItem","Dashboard","getItem","users","setUsers","userName","setUsername","onDashboard","setOnDashboard","fetchReciptsOf","setFetchReciptsOf","response","userId","Login","setEmail","setPassword","Grid","elevation","Avatar","TextField","placeholder","required","status","setItem","Link","Register","setName","confrimPassword","setConfrimPassword","container","flexDirection","login","register","LoginRegister","NotFound","Unapproved","ResetPassword","NavBarUser","UserBills","Bills","UserReceiptsUserPage","UserPage","match","params","VerifyUser","verifyuser","ForgotPassword","Email","AccountInfo","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7a4f67b9.chunk.js","sourcesContent":["import { useState } from \"react\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\r\n\r\nconst axios = require(\"axios\");\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n  TableRow: {\r\n    TableCell: { color: \"white\" },\r\n  },\r\n});\r\n\r\nconst UserRow = ({ user, token, getReceipts }) => {\r\n  const classes = useStyles();\r\n\r\n  const [admin_role, setAdmin_role] = useState(user.isAdmin);\r\n  const [approved, setApproved] = useState(user.approved);\r\n\r\n  const updateRole = (id, event) => {\r\n    if (!admin_role) {\r\n      let result = window.confirm(\r\n        \"Make admin? After user is made admin you cannot change back\"\r\n      );\r\n      if (result) {\r\n        setAdmin_role(event.target.value);\r\n        let updated_user = {\r\n          name: user.name,\r\n          email: user.email,\r\n          password: user.password,\r\n          isAdmin: true,\r\n        };\r\n\r\n        axios\r\n          .put(`http://localhost:5000/users/updateRole/${id}`, updated_user, {\r\n            headers: { token: token, \"Content-Type\": \"application/json\" },\r\n          })\r\n          .then((res) => {\r\n            window.alert(res.data.message);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    } else {\r\n      window.alert(\"Cannot change role of admin\");\r\n    }\r\n  };\r\n\r\n  const updateApprove = (id) => {\r\n    let result = window.confirm(\"Apprrove? This action cannot be reversed\");\r\n    if (result) {\r\n      setApproved(true);\r\n      let updated_user = {\r\n        name: user.name,\r\n        email: user.email,\r\n        password: user.password,\r\n        isAdmin: user.isAdmin,\r\n        approved: true,\r\n      };\r\n\r\n      axios\r\n        .put(`http://localhost:5000/users/update/${id}`, updated_user, {\r\n          headers: {\r\n            token: token,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        })\r\n        .then((res) => {\r\n          window.alert(res.data.message);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  const deleteUser = (id) => {\r\n    let result = window.confirm(\"Want to delete?\");\r\n    if (result) {\r\n      axios\r\n        .delete(`http://localhost:5000/users/${id}`, {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          window.alert(res.data.message);\r\n          window.location.reload();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  const switchToReceipts = () => {\r\n    getReceipts(user._id);\r\n  };\r\n\r\n  return (\r\n    <TableRow>\r\n      <TableCell style={{ padding: \"0 16px\" }}>{user.name}</TableCell>\r\n      <TableCell style={{ padding: \"0 16px\" }}>{user.email}</TableCell>\r\n      <TableCell style={{ padding: \"0 16px\" }}>\r\n        {approved ? (\r\n          \"Approved\"\r\n        ) : (\r\n          <Button\r\n            onClick={() => {\r\n              updateApprove(user._id);\r\n            }}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            Approve\r\n          </Button>\r\n        )}\r\n      </TableCell>\r\n      <TableCell style={{ padding: \"0 16px\" }}>\r\n        <FormControl className={classes.formControl}>\r\n          <Select\r\n            labelId=\"demo-simple-select-label\"\r\n            id=\"demo-simple-select\"\r\n            value={admin_role}\r\n            onChange={(event) => {\r\n              updateRole(user._id, event);\r\n            }}\r\n          >\r\n            <MenuItem value={true}>Admin</MenuItem>\r\n            <MenuItem value={false}>User</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </TableCell>\r\n      <TableCell style={{ padding: \"0 16px\", textAlign: \"center\" }}>\r\n        <IconButton\r\n          onClick={switchToReceipts}\r\n          aria-label=\"update\"\r\n          className={classes.margin}\r\n        >\r\n          <AssignmentIcon />\r\n        </IconButton>\r\n      </TableCell>\r\n      <TableCell style={{ padding: \"0 16px\", textAlign: \"center\" }}>\r\n        <IconButton\r\n          onClick={() => {\r\n            deleteUser(user._id);\r\n          }}\r\n          aria-label=\"delete\"\r\n          className={classes.margin}\r\n        >\r\n          <DeleteIcon />\r\n        </IconButton>\r\n      </TableCell>\r\n    </TableRow>\r\n  );\r\n};\r\n\r\nexport default UserRow;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { useEffect } from \"react\";\r\n\r\nfunction createData(\r\n  invoice,\r\n  invoice_date,\r\n  currency,\r\n  due_amount,\r\n  due_date,\r\n  amount_paid,\r\n  receipt\r\n) {\r\n  return {\r\n    invoice,\r\n    invoice_date,\r\n    currency,\r\n    due_amount,\r\n    due_date,\r\n    amount_paid,\r\n    receipt,\r\n  };\r\n}\r\n\r\n//coloumn invoices\r\nconst headCells = [\r\n  {\r\n    id: \"invoice\",\r\n    numeric: false,\r\n    date: false,\r\n    disablePadding: true,\r\n    label: \"Invoice\",\r\n  },\r\n  {\r\n    id: \"invoice_date\",\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: \"Invoice Date\",\r\n  },\r\n  { id: \"currency\", numeric: true, disablePadding: false, label: \"Currency\" },\r\n  {\r\n    id: \"due_amount\",\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: \"Due Amount\",\r\n  },\r\n  { id: \"due_date\", numeric: true, disablePadding: false, label: \"Due Date\" },\r\n\r\n  {\r\n    id: \"amount_paid\",\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: \"Amount Paid\",\r\n  },\r\n  { id: \"receipt\", numeric: true, disablePadding: false, label: \"Receipt\" },\r\n];\r\n\r\n//addd commas\r\nconst addCommas = (e) => {\r\n  let l,\r\n    t,\r\n    n = (e = e.toString()).indexOf(\".\");\r\n  if (\r\n    (n >= 0 ? ((l = e.slice(0, n)), (t = e.slice(n))) : ((l = e), (t = \"\")),\r\n    l.length > 3)\r\n  ) {\r\n    let e = l.slice(0, l.length - 3) + \",\" + l.slice(l.length - 3);\r\n    for (let l = 2; e.length - 4 - l > 0; l += 3)\r\n      e = e.slice(0, e.length - 4 - l) + \",\" + e.slice(e.length - 4 - l);\r\n    return e + t;\r\n  }\r\n  return e;\r\n};\r\n\r\n//sorting functions\r\n\r\n//for dates\r\nfunction compareDates(a, b, orderBy) {\r\n  const date2 = new Date(b[orderBy]).getTime();\r\n  const date1 = new Date(a[orderBy]).getTime();\r\n  if (date2 < date1) {\r\n    return -1;\r\n  }\r\n  if (date2 > date1) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  if (orderBy === \"invoice_date\" || orderBy === \"due_date\") {\r\n    return order === \"desc\"\r\n      ? (a, b) => compareDates(a, b, orderBy)\r\n      : (a, b) => -compareDates(a, b, orderBy);\r\n  }\r\n  return order === \"desc\"\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nfunction EnhancedTableHead({ classes, order, orderBy, onRequestSort }) {\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {headCells.map((headCell, ind) => (\r\n          <TableCell\r\n            key={headCell.id + ind}\r\n            align={headCell.numeric ? \"right\" : \"left\"}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n            style={{ paddingLeft: \"10px\" }}\r\n          >\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : \"asc\"}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              <b> {headCell.label}</b>\r\n              {orderBy === headCell.id ? (\r\n                <span className={classes.visuallyHidden}>\r\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\r\n                </span>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: \"rect(0 0 0 0)\",\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: \"hidden\",\r\n    padding: 0,\r\n    position: \"absolute\",\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\n\r\nexport default function InvoicesTable({ rows_data, inAdmin }) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"invoice_date\");\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n  const [rows, setRows] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    setRows(\r\n      rows_data.map((receipt) => {\r\n        return createData(\r\n          receipt.bill_url ? (\r\n            <a style={{ textDecoration: \"none\" }} href={receipt.bill_url}>\r\n              {receipt.invoice_num}\r\n            </a>\r\n          ) : (\r\n            <p style={{ textDecoration: \"none\" }}>{receipt.invoice_num}</p>\r\n          ),\r\n          receipt.invoice_detials.invoice_dt,\r\n          receipt.invoice_detials.invoice_currency,\r\n          receipt.invoice_detials.final_bal_due,\r\n          receipt.invoice_detials.due_date,\r\n          receipt.invoice_detials.final_bal_due,\r\n          <a style={{ textDecoration: \"none\" }} href={receipt.receipt_url}>\r\n            {\"R_\" + receipt.invoice_num}\r\n          </a>\r\n        );\r\n      })\r\n    );\r\n  }, [rows_data]);\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === \"asc\";\r\n    setOrder(isAsc ? \"desc\" : \"asc\");\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  useEffect(\r\n    () =>\r\n      console.log(\r\n        stableSort(rows, getComparator(order, orderBy)).slice(\r\n          page * rowsPerPage,\r\n          page * rowsPerPage + rowsPerPage\r\n        )\r\n      ),\r\n    [rows, orderBy, page, rowsPerPage, order]\r\n  );\r\n\r\n  return (\r\n    <div style={{ margin: \"10px\", marginInline: \"30px\" }}>\r\n      {!inAdmin ? (\r\n        <Typography\r\n          style={{ marginTop: \"5px\" }}\r\n          variant=\"h6\"\r\n          component=\"h6\"\r\n          align=\"left\"\r\n          gutterBottom\r\n        >\r\n          <b> Paid Invoices</b>\r\n        </Typography>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <Paper className={classes.paper}>\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            size={\"small\"}\r\n            aria-label=\"enhanced table\"\r\n          >\r\n            <EnhancedTableHead\r\n              classes={classes}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onRequestSort={handleRequestSort}\r\n            />\r\n            <TableBody>\r\n              {stableSort(rows, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, index) => {\r\n                  const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                  return (\r\n                    <TableRow hover tabIndex={-1} key={index}>\r\n                      <TableCell\r\n                        component=\"th\"\r\n                        id={labelId}\r\n                        scope=\"row\"\r\n                        style={{ paddingLeft: \"10px\" }}\r\n                      >\r\n                        {row.invoice}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">{row.invoice_date}</TableCell>\r\n                      <TableCell align=\"right\">{row.currency}</TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {addCommas(row.due_amount)}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">{row.due_date}</TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {addCommas(row.amount_paid)}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">{row.receipt}</TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n            </TableBody>\r\n          </Table>\r\n          <TablePagination\r\n            rowsPerPageOptions={[5, 10, 25]}\r\n            component=\"div\"\r\n            count={rows.length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onChangePage={handleChangePage}\r\n            onChangeRowsPerPage={handleChangeRowsPerPage}\r\n          />\r\n        </TableContainer>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { useEffect } from \"react\";\r\n\r\nfunction createData(invoice, invoice_date, currency, due_amount, due_date) {\r\n  return {\r\n    invoice,\r\n    invoice_date,\r\n    currency,\r\n    due_amount,\r\n    due_date,\r\n  };\r\n}\r\n\r\n//coloumn invoices\r\nconst headCells = [\r\n  {\r\n    id: \"invoice\",\r\n    numeric: false,\r\n    date: false,\r\n    disablePadding: true,\r\n    label: \"Invoice\",\r\n  },\r\n  {\r\n    id: \"invoice_date\",\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: \"Invoice Date\",\r\n  },\r\n  { id: \"currency\", numeric: true, disablePadding: false, label: \"Currency\" },\r\n  {\r\n    id: \"due_amount\",\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: \"Due Amount\",\r\n  },\r\n  { id: \"due_date\", numeric: true, disablePadding: false, label: \"Due Date\" },\r\n];\r\n\r\n//addd commas\r\nconst addCommas = (e) => {\r\n  let l,\r\n    t,\r\n    n = (e = e.toString()).indexOf(\".\");\r\n  if (\r\n    (n >= 0 ? ((l = e.slice(0, n)), (t = e.slice(n))) : ((l = e), (t = \"\")),\r\n    l.length > 3)\r\n  ) {\r\n    let e = l.slice(0, l.length - 3) + \",\" + l.slice(l.length - 3);\r\n    for (let l = 2; e.length - 4 - l > 0; l += 3)\r\n      e = e.slice(0, e.length - 4 - l) + \",\" + e.slice(e.length - 4 - l);\r\n    return e + t;\r\n  }\r\n  return e;\r\n};\r\n\r\n//sorting functions\r\n\r\n//for dates\r\nfunction compareDates(a, b, orderBy) {\r\n  const date2 = new Date(b[orderBy]).getTime();\r\n  const date1 = new Date(a[orderBy]).getTime();\r\n  if (date2 < date1) {\r\n    return -1;\r\n  }\r\n  if (date2 > date1) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  if (orderBy === \"invoice_date\" || orderBy === \"due_date\") {\r\n    return order === \"desc\"\r\n      ? (a, b) => compareDates(a, b, orderBy)\r\n      : (a, b) => -compareDates(a, b, orderBy);\r\n  }\r\n  return order === \"desc\"\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nfunction EnhancedTableHead({ classes, order, orderBy, onRequestSort }) {\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {headCells.map((headCell, ind) => (\r\n          <TableCell\r\n            key={headCell.id + ind}\r\n            align={headCell.numeric ? \"right\" : \"left\"}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n            style={{ paddingLeft: \"10px\" }}\r\n          >\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : \"asc\"}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              <b> {headCell.label}</b>\r\n              {orderBy === headCell.id ? (\r\n                <span className={classes.visuallyHidden}>\r\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\r\n                </span>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: \"rect(0 0 0 0)\",\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: \"hidden\",\r\n    padding: 0,\r\n    position: \"absolute\",\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\n\r\nexport default function UnpaidInvoice({ rows_data, inAdmin }) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"invoice_date\");\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n  const [rows, setRows] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    setRows(\r\n      rows_data.map((receipt) => {\r\n        return createData(\r\n          receipt.bill_url ? (\r\n            <a style={{ textDecoration: \"none\" }} href={receipt.bill_url}>\r\n              {receipt.invoice_num}\r\n            </a>\r\n          ) : (\r\n            <p style={{ textDecoration: \"none\" }}>{receipt.invoice_num}</p>\r\n          ),\r\n          receipt.invoice_detials.invoice_dt,\r\n          receipt.invoice_detials.invoice_currency,\r\n          receipt.invoice_detials.final_bal_due,\r\n          receipt.invoice_detials.due_date\r\n        );\r\n      })\r\n    );\r\n  }, [rows_data]);\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === \"asc\";\r\n    setOrder(isAsc ? \"desc\" : \"asc\");\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  useEffect(\r\n    () =>\r\n      console.log(\r\n        stableSort(rows, getComparator(order, orderBy)).slice(\r\n          page * rowsPerPage,\r\n          page * rowsPerPage + rowsPerPage\r\n        )\r\n      ),\r\n    [rows, orderBy, page, rowsPerPage, order]\r\n  );\r\n\r\n  return (\r\n    <div style={{ margin: \"10px\", marginInline: \"30px\" }}>\r\n      {!inAdmin ? (\r\n        <Typography\r\n          style={{ marginTop: \"5px\" }}\r\n          variant=\"h6\"\r\n          component=\"h6\"\r\n          align=\"left\"\r\n          gutterBottom\r\n        >\r\n          <b> Unpaid Invoices</b>\r\n        </Typography>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <Paper className={classes.paper}>\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            size={\"small\"}\r\n            aria-label=\"enhanced table\"\r\n          >\r\n            <EnhancedTableHead\r\n              classes={classes}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onRequestSort={handleRequestSort}\r\n            />\r\n            <TableBody>\r\n              {stableSort(rows, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, index) => {\r\n                  const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                  return (\r\n                    <TableRow hover tabIndex={-1} key={index}>\r\n                      <TableCell\r\n                        component=\"th\"\r\n                        id={labelId}\r\n                        scope=\"row\"\r\n                        style={{ paddingLeft: \"10px\" }}\r\n                      >\r\n                        {row.invoice}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">{row.invoice_date}</TableCell>\r\n                      <TableCell align=\"right\">{row.currency}</TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {addCommas(row.due_amount)}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">{row.due_date}</TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n            </TableBody>\r\n          </Table>\r\n          <TablePagination\r\n            rowsPerPageOptions={[5, 10, 25]}\r\n            component=\"div\"\r\n            count={rows.length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onChangePage={handleChangePage}\r\n            onChangeRowsPerPage={handleChangeRowsPerPage}\r\n          />\r\n        </TableContainer>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import { BrowserRouter } from \"react-router-dom\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport KeyboardBackspaceRoundedIcon from \"@material-ui/icons/KeyboardBackspaceRounded\";\r\nimport InvoicesTable from \"./invoices-table\";\r\nimport UnpaidInvoice from \"./unpaid-invoice\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\n\r\nconst UserReceipts = ({ userID, token, toggleView }) => {\r\n  const [user, setUser] = useState({});\r\n  const [receipts, setReceipts] = useState([]);\r\n  const [bills, setBills] = useState([]);\r\n  const [haveBills, setHavebills] = useState(false);\r\n  const [haveReceipts, setHaveReceipts] = useState(false);\r\n  const [receiptYTD, setReceiptYTD] = useState(0);\r\n  const [billYTD, setBillYTD] = useState(0);\r\n  const [currency, setCurrency] = useState(\"INR\");\r\n\r\n  useEffect(() => {\r\n    getReceipts();\r\n    getBills();\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const getReceipts = () => {\r\n    axios\r\n      .get(\r\n        userID\r\n          ? `http://localhost:5000/invoices/userReceipts/${userID}`\r\n          : `http://localhost:5000/invoices/userReceipts/:id`,\r\n        {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        setUser(data.user);\r\n        setReceipts(data.receipts);\r\n        if (data.haveReceipts) {\r\n          setHaveReceipts(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"some error occured check console\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const getReceiptsYTD = () => {\r\n    axios\r\n      .get(\r\n        userID\r\n          ? `http://localhost:5000/invoices/userReceiptsYTD/${userID}/${currency}`\r\n          : `http://localhost:5000/invoices/userReceiptsYTD/:id/${currency}`,\r\n        {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        setUser(data.user);\r\n        setReceiptYTD(data.total);\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"some error occured check console\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const getBills = () => {\r\n    axios\r\n      .get(\r\n        userID\r\n          ? `http://localhost:5000/invoices/userBills/${userID}`\r\n          : `http://localhost:5000/invoices/userBills/:id`,\r\n        {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        setBills(data.bills);\r\n        if (data.haveBills) {\r\n          setHavebills(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"some error occured check console\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const getBillsYTD = () => {\r\n    axios\r\n      .get(\r\n        userID\r\n          ? `http://localhost:5000/invoices/userBillsYTD/${userID}/${currency}`\r\n          : `http://localhost:5000/invoices/userBillsYTD/:id/${currency}`,\r\n        {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        setBillYTD(data.total);\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"some error occured check console\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <InputLabel id=\"demo-simple-select-label\">Currency</InputLabel>\r\n      <Select\r\n        labelId=\"demo-simple-select-label\"\r\n        id=\"demo-simple-select\"\r\n        value={currency}\r\n        onChange={(e) => {\r\n          setCurrency(e.target.value);\r\n        }}\r\n      >\r\n        <MenuItem value={\"INR\"}>INR</MenuItem>\r\n        <MenuItem value={\"EUR\"}>EUR</MenuItem>\r\n        <MenuItem value={\"USD\"}>USD</MenuItem>\r\n        <MenuItem value={\"GBP\"}>GBP</MenuItem>\r\n        <MenuItem value={\"AED\"}>AED</MenuItem>\r\n      </Select>\r\n      <Typography\r\n        style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n        variant=\"body1\"\r\n        component=\"h2\"\r\n        align=\"left\"\r\n        gutterBottom\r\n      >\r\n        <b>Invoice Total:</b> {billYTD}\r\n      </Typography>\r\n      <Typography\r\n        style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n        variant=\"body1\"\r\n        component=\"h2\"\r\n        align=\"left\"\r\n        gutterBottom\r\n      >\r\n        <b>YTD Total Paid:</b> {Math.round(receiptYTD * 100) / 100}\r\n      </Typography>\r\n      <Typography\r\n        style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n        variant=\"h6\"\r\n        component=\"h2\"\r\n        align=\"left\"\r\n        gutterBottom\r\n      >\r\n        <b>Pending Invoices:</b> {user.name}\r\n      </Typography>\r\n\r\n      {haveBills ? (\r\n        <UnpaidInvoice rows_data={bills} />\r\n      ) : (\r\n        <Typography\r\n          style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n          variant=\"body1\"\r\n          component=\"h2\"\r\n          align=\"left\"\r\n          gutterBottom\r\n        >\r\n          User has no pending bills\r\n        </Typography>\r\n      )}\r\n\r\n      <Typography\r\n        style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n        variant=\"h6\"\r\n        component=\"h2\"\r\n        align=\"left\"\r\n        gutterBottom\r\n      >\r\n        <b>Paid Invoices of :</b> {user.name}\r\n      </Typography>\r\n      {haveReceipts ? (\r\n        <InvoicesTable rows_data={receipts} inAdmin={true} />\r\n      ) : (\r\n        <Typography\r\n          style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n          variant=\"body1\"\r\n          component=\"h2\"\r\n          align=\"left\"\r\n          gutterBottom\r\n        >\r\n          User has no receipts\r\n        </Typography>\r\n      )}\r\n\r\n      <Typography align=\"center\">\r\n        <Button\r\n          onClick={toggleView}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          style={{ marginRight: \"10px\" }}\r\n        >\r\n          <KeyboardBackspaceRoundedIcon style={{ fontSize: \"30px\" }} />\r\n        </Button>\r\n      </Typography>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default UserReceipts;\r\n","import TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\n\r\nconst RowsInTable = ({ data, coloum_names, colour }) => {\r\n  return (\r\n    <TableRow style={{ backgroundColor: colour ? colour : \"\" }}>\r\n      {coloum_names.map((element, index) =>\r\n        element.name ? (\r\n          <TableCell key={index}>\r\n            {data[element.name] || data[element.name] === 0\r\n              ? data[element.name].toString()\r\n              : \"\"}\r\n          </TableCell>\r\n        ) : (\r\n          false\r\n        )\r\n      )}\r\n    </TableRow>\r\n  );\r\n};\r\n\r\nexport default RowsInTable;\r\n","import { BrowserRouter } from \"react-router-dom\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport RowsInTable from \"./rows-Custom-table\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst CustomTable = ({ data, errors }) => {\r\n  const [coloum_names, setColoum_names] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let keys = [];\r\n    for (const [key, value] of Object.entries(data[0])) {\r\n      keys.push({ name: key, value: value });\r\n    }\r\n    setColoum_names(keys);\r\n  }, [data]);\r\n  return (\r\n    <BrowserRouter>\r\n      <Container>\r\n        <Box\r\n          style={{\r\n            overflow: \"auto\",\r\n            margin: \"7px\",\r\n            marginTop: 0,\r\n            border: \"1.5px solid rgb(243, 243, 243)\",\r\n            borderBottom: 0,\r\n          }}\r\n        >\r\n          <Table size={\"small\"}>\r\n            <TableHead>\r\n              <TableRow>\r\n                {coloum_names.map((element, index) =>\r\n                  element.name ? (\r\n                    <TableCell key={index}>\r\n                      <b>{element.name}</b>\r\n                    </TableCell>\r\n                  ) : (\r\n                    false\r\n                  )\r\n                )}\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {data.map((item, index) => (\r\n                <RowsInTable\r\n                  key={index}\r\n                  data={item}\r\n                  coloum_names={coloum_names}\r\n                  colour={errors[index] ? errors[index] : \"\"}\r\n                />\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </Box>\r\n      </Container>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default CustomTable;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport * as XLSX from \"xlsx\";\r\nimport axios from \"axios\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CustomTable from \"./custom-Table\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nfunction UploadBillsData({ token }) {\r\n  const [open, setOpen] = useState(false);\r\n  const [data_user, setData_user] = useState([]);\r\n  const [data_SO, setData_SO] = useState([]);\r\n  const [data_to_be_send, setData_to_be_send] = useState({});\r\n  const [fileSelected, setFileSelected] = useState(false);\r\n  const [fileCorrect, setCorrect] = useState(false);\r\n  const [percentage, setPercentage] = useState(0);\r\n  const [errors_in_custData, setErrors_in_custData] = useState([]);\r\n  const [errors_in_SOData, setErrors_in_SOData] = useState([]);\r\n  const [userDataTables, setUserDataTables] = useState([]);\r\n  const [SODataTables, setSODataTables] = useState([]);\r\n  const [errorColourCustData, setErrorColourCustData] = useState({});\r\n  const [errorsColourSOData, setErrorsColourSOData] = useState({});\r\n  const [bigError, setBigError] = useState(false);\r\n\r\n  //handle viewing\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  // process XLSX data\r\n  const parseExcel = (fileData) => {\r\n    const workbook = XLSX.read(fileData, {\r\n      type: \"binary\",\r\n      cellDates: true,\r\n      cellNF: false,\r\n      cellText: false,\r\n    });\r\n    let data = {};\r\n    workbook.SheetNames.forEach(function (sheetName) {\r\n      const XL_row_object = XLSX.utils.sheet_to_row_object_array(\r\n        workbook.Sheets[sheetName]\r\n      );\r\n      console.log(\"sheetNames\", workbook.SheetNames);\r\n      data[sheetName] = XL_row_object;\r\n    });\r\n    setData_user(data[\"cust_data\"]);\r\n    setData_SO(data[\"solutions_owner_data\"]);\r\n    setData_to_be_send(data);\r\n    setFileSelected(true);\r\n  };\r\n  //upload user data\r\n  const axiosPostRequest = () => {\r\n    const options = {\r\n      headers: {\r\n        token: token,\r\n      },\r\n      onUploadProgress: (progessEvent) => {\r\n        const { loaded, total } = progessEvent;\r\n        let precent = Math.floor((loaded * 100) / total);\r\n        if (precent < 100) {\r\n          setPercentage(precent);\r\n        }\r\n      },\r\n    };\r\n    if (bigError) {\r\n      window.alert(\r\n        \"There is some error in the file uploaded. Please fix it to upload the file\"\r\n      );\r\n    } else {\r\n      axios\r\n        .post(\r\n          `http://localhost:5000/invoices/uploadBillsData`,\r\n\r\n          data_to_be_send,\r\n          options\r\n        )\r\n        .then((res) => {\r\n          setPercentage(100);\r\n          setTimeout(() => {\r\n            setPercentage(0);\r\n          }, 1000);\r\n          console.log(res);\r\n          window.alert(res.data.message);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  // handle file upload\r\n  const sendUploadedFile = (file) => {\r\n    const reader = new FileReader();\r\n    reader.onload = (evt) => {\r\n      /* get binary string */\r\n      const bstr = evt.target.result;\r\n\r\n      parseExcel(bstr);\r\n    };\r\n    reader.readAsBinaryString(file);\r\n  };\r\n\r\n  const handleFileUpload = (e) => {\r\n    sendUploadedFile(e.target.files[0]);\r\n  };\r\n\r\n  //check data in file\r\n  useEffect(() => {\r\n    let noErrors = true;\r\n    if (fileSelected) {\r\n      if (data_user.length) {\r\n        let errors = [];\r\n        const cloumn_name = [\r\n          \"cust_id\",\r\n          \"cust_tax_id\",\r\n          \"cust_pan\",\r\n          \"cust_firm\",\r\n          \"cust_keyman\",\r\n          \"cust_email\",\r\n          \"cust_ph_isd\",\r\n          \"cust_ph_num\",\r\n          \"cust_add_cntry\",\r\n          \"cust_add_zip\",\r\n          \"cust_add_state\",\r\n          \"cust_add_city\",\r\n          \"cust_add_landmark\",\r\n          \"cust_add_street\",\r\n          \"invoice_dt\",\r\n          \"invoice_num\",\r\n          \"invoice_currency\",\r\n          \"invoice_amt\",\r\n          \"discount\",\r\n          \"email_dt\",\r\n          \"desc\",\r\n          \"TDS\",\r\n          \"GST\",\r\n          \"due_date\",\r\n          \"reminder_1\",\r\n          \"reminder_2\",\r\n          \"final_bal_due\",\r\n          \"email_dt\",\r\n          \"paid\",\r\n          \"nonSystem_payment_method\",\r\n          \"Shown_in_System_Fag\",\r\n          \"nonSystem_payment_date\",\r\n          \"nonSystem_payment_amt\",\r\n        ];\r\n        for (let i = 0; i < data_user.length; i++) {\r\n          let temp_cloumn_name = [];\r\n          //check empty valule\r\n          for (const [key, value] of Object.entries(data_user[i])) {\r\n            temp_cloumn_name.push(key);\r\n            if (!value) {\r\n              if (value !== 0) {\r\n                noErrors = false;\r\n                errors.push({\r\n                  row: i,\r\n                  cloumn_name: key,\r\n                });\r\n              }\r\n            }\r\n          }\r\n          //check missing key\r\n          for (let j = 0; j < cloumn_name.length; j++) {\r\n            let found_in_temp = false;\r\n            for (let k = 0; k < temp_cloumn_name.length; k++) {\r\n              if (temp_cloumn_name[k] === cloumn_name[j]) {\r\n                found_in_temp = true;\r\n              }\r\n            }\r\n            if (!found_in_temp) {\r\n              noErrors = false;\r\n              errors.push({\r\n                row: i,\r\n                cloumn_name: cloumn_name[j],\r\n              });\r\n            }\r\n          }\r\n        }\r\n        setErrors_in_custData(errors);\r\n      }\r\n      if (data_SO.length) {\r\n        let errors = [];\r\n        const cloumn_name = [\r\n          \"so_keyman\",\r\n          \"so_keyman_title\",\r\n          \"so_email\",\r\n          \"so_position\",\r\n          \"so_ph_isd\",\r\n          \"so_ph_num\",\r\n          \"so_add_cntry\",\r\n          \"so_add_zip\",\r\n          \"so_add_state\",\r\n          \"so_add_city\",\r\n\r\n          \"so_add_street\",\r\n          \"so_firm\",\r\n          \"so_firm_email\",\r\n          \"so_firm_acc_name\",\r\n          \"so_firm_acc_num\",\r\n          \"so_firm_ifsc\",\r\n          \"so_firm_swift\",\r\n          \"so_firm_ph_isd\",\r\n          \"so_firm_ph_num\",\r\n          \"so_firm_add_cntry\",\r\n          \"so_firm_add_zip\",\r\n          \"so_firm_add_state\",\r\n          \"so_firm_add_city\",\r\n\r\n          \"so_firm_add_street\",\r\n        ];\r\n        for (let i = 0; i < data_SO.length; i++) {\r\n          let temp_cloumn_name = [];\r\n          //check empty valule\r\n          for (const [key, value] of Object.entries(data_SO[i])) {\r\n            temp_cloumn_name.push(key);\r\n            if (!value) {\r\n              if (value !== 0) {\r\n                noErrors = false;\r\n                errors.push({ row: i, cloumn_name: key });\r\n              }\r\n            }\r\n          }\r\n          //check missing key\r\n          for (let j = 0; j < cloumn_name.length; j++) {\r\n            let found_in_temp = false;\r\n            for (let k = 0; k < temp_cloumn_name.length; k++) {\r\n              if (temp_cloumn_name[k] === cloumn_name[j]) {\r\n                found_in_temp = true;\r\n              }\r\n            }\r\n            if (!found_in_temp) {\r\n              noErrors = false;\r\n              errors.push({\r\n                row: i,\r\n                cloumn_name: cloumn_name[j],\r\n              });\r\n            }\r\n          }\r\n        }\r\n        setErrors_in_SOData(errors);\r\n      }\r\n      if (noErrors) {\r\n        setCorrect(true);\r\n      } else {\r\n        window.alert(\"Missing Data in user data sheet. Fix it to send file\");\r\n      }\r\n    }\r\n  }, [fileSelected, data_SO, data_user]);\r\n\r\n  //format data for tables\r\n  useEffect(() => {\r\n    let userData_tables = [];\r\n    let SOData_tables = [];\r\n    for (let i = 0; i < data_user.length; i++) {\r\n      let one_user = {};\r\n      for (const [key, value] of Object.entries(data_user[i])) {\r\n        if (\r\n          key === \"invoice_dt\" ||\r\n          key === \"cust_tax_id\" ||\r\n          key === \"cust_keyman\" ||\r\n          key === \"cust_email\" ||\r\n          key === \"cust_firm\" ||\r\n          key === \"invoice_num\" ||\r\n          key === \"invoice_currency\" ||\r\n          key === \"email_dt\" ||\r\n          key === \"final_bal_due\"\r\n        ) {\r\n          if (key === \"final_bal_due\") {\r\n            one_user[key] = Math.round(value * 100) / 100;\r\n          } else if (key === \"email_dt\" || key === \"invoice_dt\") {\r\n            const date = new Date(value);\r\n            one_user[key] = date.toDateString();\r\n          } else {\r\n            one_user[key] = value;\r\n          }\r\n        }\r\n      }\r\n      userData_tables.push(one_user);\r\n    }\r\n    for (let i = 0; i < data_SO.length; i++) {\r\n      let one_user = {};\r\n      for (const [key, value] of Object.entries(data_SO[i])) {\r\n        if (\r\n          key === \"so_keyman\" ||\r\n          key === \"so_email\" ||\r\n          key === \"so_firm_email\" ||\r\n          key === \"so_firm_email\" ||\r\n          key === \"so_firm_acc_name\" ||\r\n          key === \"so_firm_acc_num\" ||\r\n          key === \"so_firm_ifsc\" ||\r\n          key === \"so_firm_swift\"\r\n        ) {\r\n          one_user[key] = value;\r\n        }\r\n      }\r\n      SOData_tables.push(one_user);\r\n    }\r\n    setUserDataTables(userData_tables);\r\n    setSODataTables(SOData_tables);\r\n  }, [data_SO, data_user]);\r\n\r\n  //colour the rows\r\n  useEffect(() => {\r\n    let ColourCustData = {};\r\n    for (let i = 0; i < errors_in_custData.length; i++) {\r\n      const orangeWarning = [];\r\n      const redWarning = [\r\n        \"invoice_dt\",\r\n        \"cust_tax_id\",\r\n        \"cust_keyman\",\r\n        \"cust_email\",\r\n        \"cust_firm\",\r\n        \"invoice_num\",\r\n        \"invoice_currency\",\r\n        \"email_dt\",\r\n        \"final_bal_due\",\r\n      ];\r\n\r\n      if (orangeWarning.includes(errors_in_custData[i].cloumn_name)) {\r\n        ColourCustData[errors_in_custData[i].row] = \"#FF6666\";\r\n      }\r\n      if (redWarning.includes(errors_in_custData[i].cloumn_name)) {\r\n        setBigError(true);\r\n        ColourCustData[errors_in_custData[i].row] = \"#FFB266\";\r\n      }\r\n    }\r\n    setErrorColourCustData(ColourCustData);\r\n\r\n    //colour so data\r\n    let ColourSOData = {};\r\n    for (let i = 0; i < errors_in_SOData.length; i++) {\r\n      const orangeWarning = [];\r\n      const redWarning = [\r\n        \"so_firm_acc_name\",\r\n        \"so_firm_acc_num\",\r\n        \"so_firm_ifsc\",\r\n        \"so_firm_swift\",\r\n      ];\r\n\r\n      if (orangeWarning.includes(errors_in_SOData[i].cloumn_name)) {\r\n        ColourSOData[errors_in_SOData[i].row] = \"#FF6666\";\r\n      }\r\n      if (redWarning.includes(errors_in_SOData[i].cloumn_name)) {\r\n        setBigError(true);\r\n        ColourSOData[errors_in_SOData[i].row] = \"#FFB266\";\r\n      }\r\n    }\r\n    setErrorsColourSOData(ColourSOData);\r\n  }, [errors_in_custData, errors_in_SOData]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClickOpen}\r\n        style={{ marginRight: \"10px\" }}\r\n      >\r\n        Upload Invoices\r\n      </Button>\r\n      <Dialog\r\n        fullWidth={true}\r\n        maxWidth={\"xl\"}\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"max-width-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"max-width-dialog-title\">\r\n          Invoice{\" \"}\r\n          <Button\r\n            onClick={handleClose}\r\n            color=\"primary\"\r\n            style={{ float: \"right\" }}\r\n          >\r\n            Close\r\n          </Button>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Upload the file which contains the invoice data of clients\r\n            <br /> The fields below show an abstraction of your data. Please\r\n            check that it is correct before clicking on \"Send Data\" which will\r\n            store your file tables in the database.\r\n          </DialogContentText>\r\n\r\n          <div style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              component=\"label\"\r\n              title=\"the files that contain your bill, receipt and your firm's data\"\r\n            >\r\n              <input\r\n                type=\"file\"\r\n                accept=\".csv,.xlsx,.xls\"\r\n                onChange={handleFileUpload}\r\n                hidden\r\n              />\r\n              Upload File\r\n            </Button>\r\n            {fileSelected ? (\r\n              <div>\r\n                <Typography\r\n                  style={{ marginTop: \"5px\" }}\r\n                  variant=\"h5\"\r\n                  component=\"h6\"\r\n                  align=\"left\"\r\n                  gutterBottom\r\n                >\r\n                  Users Data\r\n                </Typography>\r\n                <CustomTable\r\n                  key={\"table1\"}\r\n                  data={userDataTables}\r\n                  errors={errorColourCustData}\r\n                />\r\n                <Typography\r\n                  style={{ marginTop: \"5px\" }}\r\n                  variant=\"h5\"\r\n                  component=\"h6\"\r\n                  align=\"left\"\r\n                  gutterBottom\r\n                  title=\"The files you have uploaded will now be sent to the database.\"\r\n                >\r\n                  Solution Owners Data\r\n                </Typography>\r\n                <CustomTable\r\n                  key={\"table2\"}\r\n                  data={SODataTables}\r\n                  errors={errorsColourSOData}\r\n                />\r\n\r\n                {fileCorrect ? (\r\n                  false\r\n                ) : (\r\n                  <div>\r\n                    {errors_in_custData ? (\r\n                      <React.Fragment>\r\n                        <p>\r\n                          <b>Errors Found in cust_data sheet:</b>\r\n                        </p>\r\n\r\n                        {errors_in_custData.length\r\n                          ? errors_in_custData.map((item) => (\r\n                              <p>\r\n                                Missing item in cloumn {item.cloumn_name} of row{\" \"}\r\n                                {item.row}\r\n                              </p>\r\n                            ))\r\n                          : \"No errors\"}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      false\r\n                    )}\r\n                    {errors_in_SOData ? (\r\n                      <React.Fragment>\r\n                        <p>\r\n                          <b>Errors Found in SO_data sheet:</b>\r\n                        </p>\r\n\r\n                        {errors_in_SOData.length\r\n                          ? errors_in_SOData.map((item) => (\r\n                              <p>\r\n                                Missing item in cloumn {item.cloumn_name} of row{\" \"}\r\n                                {item.row}\r\n                              </p>\r\n                            ))\r\n                          : \"No errors\"}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      false\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {percentage > 0 ? (\r\n                  <LinearProgress variant=\"determinate\" value={percentage} />\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {fileSelected && (\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={axiosPostRequest}\r\n              disabled={fileCorrect ? false : true}\r\n            >\r\n              Send Invoices Data\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default UploadBillsData;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport * as XLSX from \"xlsx\";\r\nimport axios from \"axios\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CustomTable from \"./custom-Table\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nfunction UploadReceiptData({ token }) {\r\n  const [data_user, setData_user] = useState([]);\r\n  const [data_SO, setData_SO] = useState([]);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [data_to_be_send, setData_to_be_send] = useState({});\r\n  const [fileSelected, setFileSelected] = useState(false);\r\n  const [fileCorrect, setCorrect] = useState(false);\r\n  const [percentage, setPercentage] = useState(0);\r\n  const [confirm_NotFound, setconfirm_NotFound] = useState(false);\r\n  const [not_found_emails, setNot_found_emails] = useState([]);\r\n  const [not_found_bills, setNot_found_bills] = useState([]);\r\n  const [userDataTables, setUserDataTables] = useState([]);\r\n  const [SODataTables, setSODataTables] = useState([]);\r\n  const [errors_in_custData, setErrors_in_custData] = useState([]);\r\n  const [errors_in_SOData, setErrors_in_SOData] = useState([]);\r\n  const [errorColourCustData, setErrorColourCustData] = useState({});\r\n  const [errorsColourSOData, setErrorsColourSOData] = useState({});\r\n  const [bigError, setBigError] = useState(false);\r\n  const scrollRef = React.useRef(null);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  // process XLSX data\r\n  const parseExcel = (fileData) => {\r\n    const workbook = XLSX.read(fileData, {\r\n      type: \"binary\",\r\n      cellDates: true,\r\n      cellNF: false,\r\n      cellText: false,\r\n    });\r\n    let data = {};\r\n    workbook.SheetNames.forEach(function (sheetName) {\r\n      const XL_row_object = XLSX.utils.sheet_to_row_object_array(\r\n        workbook.Sheets[sheetName]\r\n      );\r\n      console.log(\"sheetNames\", workbook.SheetNames);\r\n      data[sheetName] = XL_row_object;\r\n    });\r\n    setData_user(data[\"cust_data\"]);\r\n    setData_SO(data[\"solutions_owner_data\"]);\r\n    setData_to_be_send(data);\r\n    setFileSelected(true);\r\n  };\r\n\r\n  const axiosPostRequest = () => {\r\n    const options = {\r\n      headers: {\r\n        token: token,\r\n      },\r\n      onUploadProgress: (progessEvent) => {\r\n        const { loaded, total } = progessEvent;\r\n        let precent = Math.floor((loaded * 100) / total);\r\n        if (precent < 100) {\r\n          setPercentage(precent);\r\n        }\r\n      },\r\n    };\r\n    if (bigError) {\r\n      window.alert(\r\n        \"There is some error in the file uploaded. Please fix it to upload the file\"\r\n      );\r\n    } else {\r\n      axios\r\n        .post(\r\n          `http://localhost:5000/invoices/uploadReceiptsData`,\r\n\r\n          data_to_be_send,\r\n          options\r\n        )\r\n        .then((res) => {\r\n          setPercentage(100);\r\n          setTimeout(() => {\r\n            setPercentage(0);\r\n          }, 1000);\r\n          console.log(res);\r\n          window.alert(res.data.message);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n  //confrim user data\r\n  const confirmRequest = () => {\r\n    const options = {\r\n      headers: {\r\n        token: token,\r\n      },\r\n      onUploadProgress: (progessEvent) => {\r\n        const { loaded, total } = progessEvent;\r\n        let precent = Math.floor((loaded * 100) / total);\r\n        if (precent < 100) {\r\n          setPercentage(precent);\r\n        }\r\n      },\r\n    };\r\n    axios\r\n      .post(\r\n        `http://localhost:5000/invoices/confrimReceiptsUpload`,\r\n        data_to_be_send,\r\n        options\r\n      )\r\n      .then((res) => {\r\n        setPercentage(100);\r\n        setTimeout(() => {\r\n          setPercentage(0);\r\n        }, 1000);\r\n        console.log(res.data);\r\n        if (res.data.missing) {\r\n          setNot_found_emails(res.data.not_found.emails);\r\n          setNot_found_bills(res.data.not_found.bills);\r\n        }\r\n        setconfirm_NotFound(true);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  // handle file upload\r\n  const sendUploadedFile = (file) => {\r\n    const reader = new FileReader();\r\n    reader.onload = (evt) => {\r\n      /* get binary string */\r\n      const bstr = evt.target.result;\r\n\r\n      parseExcel(bstr);\r\n    };\r\n    reader.readAsBinaryString(file);\r\n  };\r\n\r\n  const handleFileUpload = (e) => {\r\n    sendUploadedFile(e.target.files[0]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"data of users\", data_user);\r\n    console.log(\"data of so\", data_SO);\r\n    console.log(\"data in total\", data_to_be_send);\r\n  }, [data_user, data_SO, data_to_be_send]);\r\n\r\n  //check data in file\r\n  useEffect(() => {\r\n    let noErrors = true;\r\n    if (fileSelected) {\r\n      if (data_user.length) {\r\n        let errors = [];\r\n        const cloumn_name = [\r\n          \"cust_id\",\r\n          \"cust_tax_id\",\r\n          \"cust_pan\",\r\n          \"cust_firm\",\r\n          \"cust_keyman\",\r\n          \"cust_email\",\r\n          \"cust_ph_isd\",\r\n          \"cust_ph_num\",\r\n          \"cust_add_cntry\",\r\n          \"cust_add_zip\",\r\n          \"cust_add_state\",\r\n          \"cust_add_city\",\r\n          \"cust_add_landmark\",\r\n          \"cust_add_street\",\r\n          \"invoice_dt\",\r\n          \"invoice_num\",\r\n          \"invoice_currency\",\r\n          \"invoice_amt\",\r\n          \"discount\",\r\n          \"email_dt\",\r\n          \"desc\",\r\n          \"TDS\",\r\n          \"GST\",\r\n          \"due_date\",\r\n          \"reminder_1\",\r\n          \"reminder_2\",\r\n          \"final_bal_due\",\r\n          \"recurring\",\r\n          \"Frequency\",\r\n          \"email_dt\",\r\n          \"paid\",\r\n          \"nonSystem_payment_method\",\r\n          \"Shown_in_System_Fag\",\r\n          \"nonSystem_payment_date\",\r\n          \"nonSystem_payment_amt\",\r\n        ];\r\n        for (let i = 0; i < data_user.length; i++) {\r\n          let temp_cloumn_name = [];\r\n          //check empty valule\r\n          for (const [key, value] of Object.entries(data_user[i])) {\r\n            temp_cloumn_name.push(key);\r\n            if (!value) {\r\n              if (value !== 0) {\r\n                noErrors = false;\r\n                errors.push({\r\n                  row: i,\r\n                  cloumn_name: key,\r\n                });\r\n              }\r\n            }\r\n          }\r\n          //check missing key\r\n          for (let j = 0; j < cloumn_name.length; j++) {\r\n            let found_in_temp = false;\r\n            for (let k = 0; k < temp_cloumn_name.length; k++) {\r\n              if (temp_cloumn_name[k] === cloumn_name[j]) {\r\n                found_in_temp = true;\r\n              }\r\n            }\r\n            if (!found_in_temp) {\r\n              noErrors = false;\r\n              errors.push({\r\n                row: i,\r\n                cloumn_name: cloumn_name[j],\r\n              });\r\n            }\r\n          }\r\n        }\r\n        setErrors_in_custData(errors);\r\n      }\r\n      if (data_SO.length) {\r\n        let errors = [];\r\n        const cloumn_name = [\r\n          \"so_keyman\",\r\n          \"so_keyman_title\",\r\n          \"so_email\",\r\n          \"so_position\",\r\n          \"so_ph_isd\",\r\n          \"so_ph_num\",\r\n          \"so_add_cntry\",\r\n          \"so_add_zip\",\r\n          \"so_add_state\",\r\n          \"so_add_city\",\r\n          \"so_add_street\",\r\n          \"so_firm\",\r\n          \"so_firm_email\",\r\n          \"so_firm_acc_name\",\r\n          \"so_firm_acc_num\",\r\n          \"so_firm_ifsc\",\r\n          \"so_firm_swift\",\r\n          \"so_firm_ph_isd\",\r\n          \"so_firm_ph_num\",\r\n          \"so_firm_add_cntry\",\r\n          \"so_firm_add_zip\",\r\n          \"so_firm_add_state\",\r\n          \"so_firm_add_city\",\r\n\r\n          \"so_firm_add_street\",\r\n        ];\r\n        for (let i = 0; i < data_SO.length; i++) {\r\n          let temp_cloumn_name = [];\r\n          //check empty valule\r\n          for (const [key, value] of Object.entries(data_SO[i])) {\r\n            temp_cloumn_name.push(key);\r\n            if (!value) {\r\n              if (value !== 0) {\r\n                noErrors = false;\r\n                errors.push({ row: i, cloumn_name: key });\r\n              }\r\n            }\r\n          }\r\n          //check missing key\r\n          for (let j = 0; j < cloumn_name.length; j++) {\r\n            let found_in_temp = false;\r\n            for (let k = 0; k < temp_cloumn_name.length; k++) {\r\n              if (temp_cloumn_name[k] === cloumn_name[j]) {\r\n                found_in_temp = true;\r\n              }\r\n            }\r\n            if (!found_in_temp) {\r\n              noErrors = false;\r\n              errors.push({\r\n                row: i,\r\n                cloumn_name: cloumn_name[j],\r\n              });\r\n            }\r\n          }\r\n        }\r\n        setErrors_in_SOData(errors);\r\n      }\r\n      if (noErrors) {\r\n        setCorrect(true);\r\n      } else {\r\n        window.alert(\"Missing Data in user data sheet. Fix it to send file\");\r\n      }\r\n    }\r\n  }, [fileSelected, data_SO, data_user]);\r\n\r\n  //format data for tables\r\n  useEffect(() => {\r\n    let userData_tables = [];\r\n    let SOData_tables = [];\r\n    for (let i = 0; i < data_user.length; i++) {\r\n      let one_user = {};\r\n      for (const [key, value] of Object.entries(data_user[i])) {\r\n        if (\r\n          key === \"invoice_dt\" ||\r\n          key === \"cust_tax_id\" ||\r\n          key === \"cust_keyman\" ||\r\n          key === \"cust_email\" ||\r\n          key === \"cust_firm\" ||\r\n          key === \"invoice_num\" ||\r\n          key === \"invoice_currency\" ||\r\n          key === \"email_dt\" ||\r\n          key === \"final_bal_due\"\r\n        ) {\r\n          if (key === \"final_bal_due\") {\r\n            one_user[key] = Math.round(value * 100) / 100;\r\n          } else if (key === \"email_dt\" || key === \"invoice_dt\") {\r\n            const date = new Date(value);\r\n            one_user[key] = date.toDateString();\r\n          } else {\r\n            one_user[key] = value;\r\n          }\r\n        }\r\n      }\r\n      userData_tables.push(one_user);\r\n    }\r\n    for (let i = 0; i < data_SO.length; i++) {\r\n      let one_user = {};\r\n      for (const [key, value] of Object.entries(data_SO[i])) {\r\n        if (\r\n          key === \"so_keyman\" ||\r\n          key === \"so_email\" ||\r\n          key === \"so_firm_email\" ||\r\n          key === \"so_firm_email\" ||\r\n          key === \"so_firm_acc_name\" ||\r\n          key === \"so_firm_acc_num\" ||\r\n          key === \"so_firm_ifsc\" ||\r\n          key === \"so_firm_swift\"\r\n        ) {\r\n          one_user[key] = value;\r\n        }\r\n      }\r\n      SOData_tables.push(one_user);\r\n    }\r\n    setUserDataTables(userData_tables);\r\n    setSODataTables(SOData_tables);\r\n  }, [data_SO, data_user]);\r\n\r\n  //colour the rows\r\n  useEffect(() => {\r\n    let ColourCustData = {};\r\n    for (let i = 0; i < errors_in_custData.length; i++) {\r\n      const orangeWarning = [];\r\n      const redWarning = [\r\n        \"invoice_dt\",\r\n        \"cust_tax_id\",\r\n        \"cust_keyman\",\r\n        \"cust_email\",\r\n        \"cust_firm\",\r\n        \"invoice_num\",\r\n        \"invoice_currency\",\r\n        \"email_dt\",\r\n        \"final_bal_due\",\r\n      ];\r\n\r\n      if (orangeWarning.includes(errors_in_custData[i].cloumn_name)) {\r\n        ColourCustData[errors_in_custData[i].row] = \"#FF6666\";\r\n      }\r\n      if (redWarning.includes(errors_in_custData[i].cloumn_name)) {\r\n        setBigError(true);\r\n        ColourCustData[errors_in_custData[i].row] = \"#FFB266\";\r\n      }\r\n    }\r\n    setErrorColourCustData(ColourCustData);\r\n\r\n    //colour so data\r\n    let ColourSOData = {};\r\n    for (let i = 0; i < errors_in_SOData.length; i++) {\r\n      const orangeWarning = [];\r\n      const redWarning = [\r\n        \"so_firm_acc_name\",\r\n        \"so_firm_acc_num\",\r\n        \"so_firm_ifsc\",\r\n        \"so_firm_swift\",\r\n      ];\r\n\r\n      if (orangeWarning.includes(errors_in_SOData[i].cloumn_name)) {\r\n        ColourSOData[errors_in_SOData[i].row] = \"#FF6666\";\r\n      }\r\n      if (redWarning.includes(errors_in_SOData[i].cloumn_name)) {\r\n        setBigError(true);\r\n        ColourSOData[errors_in_SOData[i].row] = \"#FFB266\";\r\n      }\r\n    }\r\n    setErrorsColourSOData(ColourSOData);\r\n  }, [errors_in_custData, errors_in_SOData]);\r\n\r\n  //scrol to the confrim info\r\n  useEffect(() => {\r\n    if (scrollRef.current) {\r\n      scrollRef.current.scrollIntoView({ behaviour: \"smooth\" });\r\n    }\r\n  }, [confirm_NotFound]);\r\n  return (\r\n    <React.Fragment>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClickOpen}\r\n        style={{ marginRight: \"10px\" }}\r\n      >\r\n        Upload Receipts\r\n      </Button>\r\n      <Dialog\r\n        fullWidth={true}\r\n        maxWidth={\"xl\"}\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"max-width-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"max-width-dialog-title\">\r\n          Receipts\r\n          <Button\r\n            onClick={handleClose}\r\n            color=\"primary\"\r\n            style={{ float: \"right\" }}\r\n          >\r\n            Close\r\n          </Button>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Enter the receipt data here ONLY against invoices for which payment\r\n            was received outside this system such as cash, a paper-based check,\r\n            etc.\r\n            <br /> The fields below show an abstraction of your data. Please\r\n            check that it is correct before clicking on \"Send Data\" which will\r\n            store your file tables in the database.\r\n          </DialogContentText>\r\n          <div style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\r\n            <Button variant=\"contained\" color=\"primary\" component=\"label\">\r\n              <input\r\n                type=\"file\"\r\n                accept=\".csv,.xlsx,.xls\"\r\n                onChange={handleFileUpload}\r\n                hidden\r\n              />\r\n              Upload File\r\n            </Button>\r\n            {fileSelected && (\r\n              <div>\r\n                <Typography\r\n                  style={{ marginTop: \"5px\" }}\r\n                  variant=\"h5\"\r\n                  component=\"h6\"\r\n                  align=\"center\"\r\n                  gutterBottom\r\n                >\r\n                  Users Data :\r\n                </Typography>\r\n                <CustomTable\r\n                  key={\"table1\"}\r\n                  data={userDataTables}\r\n                  errors={errorColourCustData}\r\n                />\r\n                <Typography\r\n                  style={{ marginTop: \"5px\" }}\r\n                  variant=\"h5\"\r\n                  component=\"h6\"\r\n                  align=\"center\"\r\n                  gutterBottom\r\n                >\r\n                  Solution Owners Data :\r\n                </Typography>\r\n                <CustomTable\r\n                  key={\"table2\"}\r\n                  data={SODataTables}\r\n                  errors={errorsColourSOData}\r\n                />\r\n\r\n                {fileCorrect ? (\r\n                  false\r\n                ) : (\r\n                  <div>\r\n                    {errors_in_custData && (\r\n                      <React.Fragment>\r\n                        <p>\r\n                          <b>Errors Found in cust_data sheet:</b>\r\n                        </p>\r\n\r\n                        {errors_in_custData.length\r\n                          ? errors_in_custData.map((item) => (\r\n                              <p>\r\n                                Missing item in cloumn {item.cloumn_name} of row{\" \"}\r\n                                {item.row}\r\n                              </p>\r\n                            ))\r\n                          : \"No errors\"}\r\n                      </React.Fragment>\r\n                    )}\r\n                    {errors_in_SOData && (\r\n                      <React.Fragment>\r\n                        <p>\r\n                          <b>Errors Found in SO_data sheet:</b>\r\n                        </p>\r\n\r\n                        {errors_in_SOData.length\r\n                          ? errors_in_SOData.map((item) => (\r\n                              <p>\r\n                                Missing item in cloumn {item.cloumn_name} of row{\" \"}\r\n                                {item.row}\r\n                              </p>\r\n                            ))\r\n                          : \"No errors\"}\r\n                      </React.Fragment>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                {confirm_NotFound && (\r\n                  <div ref={scrollRef} style={{ marginTop: \"10px\" }}>\r\n                    {not_found_emails.length ? (\r\n                      <div>\r\n                        <p>\r\n                          <b>Emails Not Found:</b>\r\n                        </p>\r\n                        {not_found_emails.map((item, index) => (\r\n                          <p key={index}>{item}</p>\r\n                        ))}\r\n                      </div>\r\n                    ) : (\r\n                      <p>\r\n                        <b>All emails found</b>\r\n                      </p>\r\n                    )}\r\n\r\n                    {not_found_bills.length ? (\r\n                      <div>\r\n                        <p>\r\n                          <b>Bills Not Found:</b>\r\n                        </p>\r\n                        {not_found_bills.map((item, index) => (\r\n                          <p key={index}>{item}</p>\r\n                        ))}\r\n                      </div>\r\n                    ) : (\r\n                      <p>\r\n                        {\" \"}\r\n                        <b>All bills found</b>\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {percentage > 0 && (\r\n                  <LinearProgress variant=\"determinate\" value={percentage} />\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {fileSelected && (\r\n            <React.Fragment>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={confirmRequest}\r\n                disabled={fileCorrect ? false : true}\r\n                style={{ display: confirm_NotFound ? \"none\" : \"block\" }}\r\n              >\r\n                Send Receipts Data\r\n              </Button>\r\n              {confirm_NotFound && (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={axiosPostRequest}\r\n                >\r\n                  Confrim and Submit\r\n                </Button>\r\n              )}\r\n            </React.Fragment>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default UploadReceiptData;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport * as XLSX from \"xlsx\";\r\nimport axios from \"axios\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CustomTable from \"./custom-Table\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nfunction UploadUserData({ token }) {\r\n  const [data_user, setData_user] = useState([]);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [data_to_be_send, setData_to_be_send] = useState({});\r\n  const [fileSelected, setFileSelected] = useState(false);\r\n  const [fileCorrect, setCorrect] = useState(false);\r\n  const [percentage, setPercentage] = useState(0);\r\n  const [userDataTables, setUserDataTables] = useState([]);\r\n  const [errors_in_custData, setErrors_in_custData] = useState([]);\r\n  const [errorColourCustData, setErrorColourCustData] = useState({});\r\n  const [bigError, setBigError] = useState(false);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  // process XLSX data\r\n  const parseExcel = (fileData) => {\r\n    const workbook = XLSX.read(fileData, {\r\n      type: \"binary\",\r\n      cellDates: true,\r\n      cellNF: false,\r\n      cellText: false,\r\n    });\r\n    let data = {};\r\n    workbook.SheetNames.forEach(function (sheetName) {\r\n      const XL_row_object = XLSX.utils.sheet_to_row_object_array(\r\n        workbook.Sheets[sheetName]\r\n      );\r\n      console.log(\"sheetNames\", workbook.SheetNames);\r\n      data[sheetName] = XL_row_object;\r\n    });\r\n    setData_user(data[\"cust_data\"]);\r\n    setData_to_be_send(data);\r\n    setFileSelected(true);\r\n  };\r\n\r\n  const axiosPostRequest = () => {\r\n    const options = {\r\n      headers: {\r\n        token: token,\r\n      },\r\n      onUploadProgress: (progessEvent) => {\r\n        const { loaded, total } = progessEvent;\r\n        let precent = Math.floor((loaded * 100) / total);\r\n        if (precent < 100) {\r\n          setPercentage(precent);\r\n        }\r\n      },\r\n    };\r\n    if (bigError) {\r\n      window.alert(\r\n        \"There is some error in the file uploaded. Please fix it to upload the file\"\r\n      );\r\n    } else {\r\n      axios\r\n        .post(\r\n          `http://localhost:5000/users/uploadUsers`,\r\n          data_to_be_send,\r\n          options\r\n        )\r\n        .then((res) => {\r\n          setPercentage(100);\r\n          setTimeout(() => {\r\n            setPercentage(0);\r\n          }, 1000);\r\n          console.log(res);\r\n          window.alert(res.data.message);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  // handle file upload\r\n  const sendUploadedFile = (file) => {\r\n    const reader = new FileReader();\r\n    reader.onload = (evt) => {\r\n      /* get binary string */\r\n      const bstr = evt.target.result;\r\n\r\n      parseExcel(bstr);\r\n    };\r\n    reader.readAsBinaryString(file);\r\n  };\r\n\r\n  const handleFileUpload = (e) => {\r\n    sendUploadedFile(e.target.files[0]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"data of users\", data_user);\r\n    console.log(\"data in total\", data_to_be_send);\r\n  }, [data_user, data_to_be_send]);\r\n\r\n  //check data in file\r\n  useEffect(() => {\r\n    let noErrors = true;\r\n    if (fileSelected) {\r\n      if (data_user.length) {\r\n        let errors = [];\r\n        const cloumn_name = [\r\n          \"cust_id\",\r\n          \"cust_tax_id\",\r\n          \"cust_pan\",\r\n          \"cust_firm\",\r\n          \"cust_keyman\",\r\n          \"cust_email\",\r\n          \"cust_ph_isd\",\r\n          \"cust_ph_num\",\r\n          \"cust_add_cntry\",\r\n          \"cust_add_zip\",\r\n          \"cust_add_state\",\r\n          \"cust_add_city\",\r\n          \"cust_add_landmark\",\r\n          \"cust_add_street\",\r\n        ];\r\n        for (let i = 0; i < data_user.length; i++) {\r\n          let temp_cloumn_name = [];\r\n          //check empty valule\r\n          for (const [key, value] of Object.entries(data_user[i])) {\r\n            temp_cloumn_name.push(key);\r\n            if (!value) {\r\n              if (value !== 0) {\r\n                noErrors = false;\r\n                errors.push({\r\n                  row: i,\r\n                  cloumn_name: key,\r\n                });\r\n              }\r\n            }\r\n          }\r\n          //check missing key\r\n          for (let j = 0; j < cloumn_name.length; j++) {\r\n            let found_in_temp = false;\r\n            for (let k = 0; k < temp_cloumn_name.length; k++) {\r\n              if (temp_cloumn_name[k] === cloumn_name[j]) {\r\n                found_in_temp = true;\r\n              }\r\n            }\r\n            if (!found_in_temp) {\r\n              noErrors = false;\r\n              errors.push({\r\n                row: i,\r\n                cloumn_name: cloumn_name[j],\r\n              });\r\n            }\r\n          }\r\n        }\r\n        setErrors_in_custData(errors);\r\n      }\r\n\r\n      if (noErrors) {\r\n        setCorrect(true);\r\n      } else {\r\n        window.alert(\"Missing Data in user data sheet. Fix it to send file\");\r\n      }\r\n    }\r\n  }, [fileSelected, data_user]);\r\n\r\n  //format data for tables\r\n  useEffect(() => {\r\n    let userData_tables = [];\r\n\r\n    for (let i = 0; i < data_user.length; i++) {\r\n      let one_user = {};\r\n      for (const [key, value] of Object.entries(data_user[i])) {\r\n        if (\r\n          key === \"cust_tax_id\" ||\r\n          key === \"cust_keyman\" ||\r\n          key === \"cust_email\" ||\r\n          key === \"cust_firm\"\r\n        ) {\r\n          if (key === \"final_bal_due\") {\r\n            one_user[key] = Math.round(value * 100) / 100;\r\n          } else if (key === \"email_dt\" || key === \"invoice_dt\") {\r\n            const date = new Date(value);\r\n            one_user[key] = date.toDateString();\r\n          } else {\r\n            one_user[key] = value;\r\n          }\r\n        }\r\n      }\r\n      userData_tables.push(one_user);\r\n    }\r\n\r\n    setUserDataTables(userData_tables);\r\n  }, [data_user]);\r\n\r\n  //colour the rows\r\n  useEffect(() => {\r\n    let ColourCustData = {};\r\n    for (let i = 0; i < errors_in_custData.length; i++) {\r\n      const orangeWarning = [];\r\n      const redWarning = [\r\n        \"cust_tax_id\",\r\n        \"cust_keyman\",\r\n        \"cust_email\",\r\n        \"cust_firm\",\r\n      ];\r\n\r\n      if (orangeWarning.includes(errors_in_custData[i].cloumn_name)) {\r\n        ColourCustData[errors_in_custData[i].row] = \"#FF6666\";\r\n      }\r\n      if (redWarning.includes(errors_in_custData[i].cloumn_name)) {\r\n        setBigError(true);\r\n        ColourCustData[errors_in_custData[i].row] = \"#FFB266\";\r\n      }\r\n    }\r\n    setErrorColourCustData(ColourCustData);\r\n  }, [errors_in_custData]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClickOpen}\r\n        style={{ marginRight: \"10px\" }}\r\n      >\r\n        Upload Users Data\r\n      </Button>\r\n      <Dialog\r\n        fullWidth={true}\r\n        maxWidth={\"xl\"}\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"max-width-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"max-width-dialog-title\">\r\n          Receipts\r\n          <Button\r\n            onClick={handleClose}\r\n            color=\"primary\"\r\n            style={{ float: \"right\" }}\r\n          >\r\n            Close\r\n          </Button>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Upload a file which contains user data.\r\n          </DialogContentText>\r\n          <div style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\r\n            <Button variant=\"contained\" color=\"primary\" component=\"label\">\r\n              <input\r\n                type=\"file\"\r\n                accept=\".csv,.xlsx,.xls\"\r\n                onChange={handleFileUpload}\r\n                hidden\r\n              />\r\n              Upload File\r\n            </Button>\r\n            {fileSelected && (\r\n              <div>\r\n                <Typography\r\n                  style={{ marginTop: \"5px\" }}\r\n                  variant=\"h5\"\r\n                  component=\"h6\"\r\n                  align=\"center\"\r\n                  gutterBottom\r\n                >\r\n                  Users Data :\r\n                </Typography>\r\n                <CustomTable\r\n                  key={\"table1\"}\r\n                  data={userDataTables}\r\n                  errors={errorColourCustData}\r\n                />\r\n\r\n                {fileCorrect ? (\r\n                  false\r\n                ) : (\r\n                  <div>\r\n                    {errors_in_custData && (\r\n                      <React.Fragment>\r\n                        <p>\r\n                          <b>Errors Found in cust_data sheet:</b>\r\n                        </p>\r\n\r\n                        {errors_in_custData.length\r\n                          ? errors_in_custData.map((item) => (\r\n                              <p>\r\n                                Missing item in cloumn {item.cloumn_name} of row{\" \"}\r\n                                {item.row}\r\n                              </p>\r\n                            ))\r\n                          : \"No errors\"}\r\n                      </React.Fragment>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                {percentage > 0 && (\r\n                  <LinearProgress variant=\"determinate\" value={percentage} />\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {fileSelected && (\r\n            <React.Fragment>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={axiosPostRequest}\r\n                disabled={fileCorrect ? false : true}\r\n                style={{ display: !fileSelected ? \"none\" : \"block\" }}\r\n              >\r\n                Send User Data\r\n              </Button>\r\n            </React.Fragment>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default UploadUserData;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport UploadBillsData from \"../upload-bills\";\r\nimport UploadReceiptsData from \"../upload-receipts\";\r\nimport UploadUserData from \"../upload-users\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  button_menu: {\r\n    color: \"white\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function NavBarAdmin({ username, token }) {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" style={{ marginBottom: \"5px\" }}>\r\n        <Toolbar>\r\n          <IconButton\r\n            href=\"/\"\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"home\"\r\n          >\r\n            <HomeIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Payment management service\r\n          </Typography>\r\n          <div>\r\n            <UploadBillsData token={token} />\r\n            <UploadReceiptsData token={token} />\r\n            <UploadUserData token={token} />\r\n            <Button\r\n              className={classes.button_menu}\r\n              aria-controls=\"simple-menu\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleClick}\r\n            >\r\n              {username}\r\n              <span className=\"material-icons-outlined\">expand_more</span>\r\n            </Button>\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={anchorEl}\r\n              keepMounted\r\n              open={Boolean(anchorEl)}\r\n              onClose={handleClose}\r\n            >\r\n              <MenuItem\r\n                onClick={() => {\r\n                  window.location.replace(\r\n                    `http://${window.location.host}/myAccount`\r\n                  );\r\n                }}\r\n              >\r\n                My account\r\n              </MenuItem>\r\n              <MenuItem\r\n                onClick={() => {\r\n                  localStorage.removeItem(\"token\");\r\n                  window.location.replace(`http://${window.location.host}`);\r\n                }}\r\n              >\r\n                Logout\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import { BrowserRouter } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport UserRow from \"../components/user-table-row\";\r\nimport { Container, Typography } from \"@material-ui/core\";\r\nimport UserReceipts from \"../components/user-receipts-invoices\";\r\nimport NavBarAdmin from \"../components/nav-bar/nav-bar-admin\";\r\n\r\nconst axios = require(\"axios\");\r\n\r\nconst Dashboard = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  const [users, setUsers] = useState([]);\r\n  const [userName, setUsername] = useState(\"\");\r\n  const [onDashboard, setOnDashboard] = useState(true);\r\n  const [fetchReciptsOf, setFetchReciptsOf] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      axios\r\n        .get(`http://localhost:5000/users/single_user`, {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setUsername(res.data.name);\r\n        })\r\n        .catch((err) => {\r\n          window.alert(\"some error occured check console\");\r\n          console.log(err);\r\n        });\r\n\r\n      axios\r\n        .get(`http://localhost:5000/users/all_users`, {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        })\r\n        .then(function (response) {\r\n          setUsers(response.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      window.alert(\"You are not logged in\");\r\n    }\r\n  }, [token]);\r\n\r\n  const getReceipts = (userId) => {\r\n    setFetchReciptsOf(userId);\r\n    setOnDashboard(false);\r\n  };\r\n  const toggleView = () => {\r\n    setOnDashboard(true);\r\n  };\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <NavBarAdmin username={userName} token={token} />\r\n      {onDashboard ? (\r\n        <div>\r\n          <Typography\r\n            style={{ marginTop: \"5px\" }}\r\n            variant=\"h5\"\r\n            component=\"h2\"\r\n            align=\"center\"\r\n            gutterBottom\r\n          >\r\n            Admin Dashboard\r\n          </Typography>\r\n          <Container>\r\n            <Box\r\n              style={{\r\n                overflow: \"auto\",\r\n                margin: \"7px\",\r\n                marginTop: 0,\r\n                border: \"1.5px solid rgb(243, 243, 243)\",\r\n                borderBottom: 0,\r\n              }}\r\n            >\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>\r\n                      <b>User Name</b>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <b>Email</b>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <b>Approval</b>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <b>Role</b>\r\n                    </TableCell>\r\n                    <TableCell style={{ textAlign: \"center\" }}>\r\n                      <b>Payments</b>\r\n                    </TableCell>\r\n                    <TableCell style={{ textAlign: \"center\" }}>\r\n                      <b>Delete User</b>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {users.map((user) => (\r\n                    <UserRow\r\n                      token={token}\r\n                      key={user._id}\r\n                      user={user}\r\n                      getReceipts={getReceipts}\r\n                    />\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </Box>\r\n          </Container>\r\n        </div>\r\n      ) : (\r\n        <UserReceipts\r\n          userID={fetchReciptsOf}\r\n          token={token}\r\n          toggleView={toggleView}\r\n        />\r\n      )}\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import {\r\n  Grid,\r\n  Paper,\r\n  Avatar,\r\n  TextField,\r\n  Button,\r\n  Typography,\r\n  Link,\r\n} from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst Login = () => {\r\n  const paperStyle = {\r\n    padding: 20,\r\n    width: 280,\r\n    margin: \"20px auto\",\r\n  };\r\n  const avatarStyle = { backgroundColor: \"rgb(63, 81, 181)\" };\r\n  const btnstyle = { margin: \"8px 0\", marginTop: \"45px\" };\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const postLogin = () => {\r\n    axios\r\n      .post(\"http://localhost:5000/users/login\", {\r\n        email: email,\r\n        password: password,\r\n      })\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        if (data.status === 400) {\r\n          console.log(data);\r\n          window.alert(data.message);\r\n        } else {\r\n          localStorage.setItem(\"token\", data.token);\r\n          localStorage.setItem(\"user\", data.user);\r\n          if (data.user.isAdmin) {\r\n            window.location.replace(`http://${window.location.host}/dashboard`);\r\n          } else {\r\n            if (data.user.approved) {\r\n              window.location.replace(\r\n                `http://${window.location.host}/userPage`\r\n              );\r\n            } else {\r\n              window.location.replace(\r\n                `http://${window.location.host}/unapproved`\r\n              );\r\n            }\r\n          }\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Grid>\r\n      <Paper elevation={10} style={paperStyle}>\r\n        <Grid align=\"center\">\r\n          <Avatar style={avatarStyle}>\r\n            <LockOutlinedIcon style={{ backgroundColor: \"rgb(51, 70, 176)\" }} />\r\n          </Avatar>\r\n          <h2 style={{ marginTop: \"20px\" }}>Login</h2>\r\n        </Grid>\r\n        <TextField\r\n          label=\"Email\"\r\n          placeholder=\"Enter Email\"\r\n          fullWidth\r\n          required\r\n          value={email}\r\n          style={{ marginTop: \"20px\" }}\r\n          onChange={(event) => {\r\n            setEmail(event.target.value);\r\n          }}\r\n        />\r\n        <TextField\r\n          label=\"Password\"\r\n          placeholder=\"Enter password\"\r\n          type=\"password\"\r\n          fullWidth\r\n          required\r\n          style={{ marginTop: \"7px\" }}\r\n          value={password}\r\n          onChange={(event) => {\r\n            setPassword(event.target.value);\r\n          }}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          style={btnstyle}\r\n          fullWidth\r\n          onClick={postLogin}\r\n        >\r\n          Log in\r\n        </Button>\r\n        <Typography style={{ marginTop: \"5px\" }}>\r\n          {\" \"}\r\n          New here? <Link href=\"/register\">Register</Link>\r\n        </Typography>\r\n        <Typography>\r\n          {\" \"}\r\n          Forgot password? <Link href=\"/forgotPassword\">Click here</Link>\r\n        </Typography>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import {\r\n  Grid,\r\n  Paper,\r\n  Avatar,\r\n  TextField,\r\n  Button,\r\n  Typography,\r\n  Link,\r\n} from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst Register = () => {\r\n  const paperStyle = {\r\n    padding: 20,\r\n    width: 280,\r\n    margin: \"20px auto\",\r\n  };\r\n  const avatarStyle = { backgroundColor: \"rgb(63, 81, 181)\" };\r\n  const btnstyle = { margin: \"8px 0\", marginTop: \"50px\" };\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confrimPassword, setConfrimPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  const postRegister = () => {\r\n    if (password.length < 6) {\r\n      window.alert(\"Password length should be more than 6\");\r\n    } else {\r\n      if (confrimPassword === password) {\r\n        axios\r\n          .post(\"http://localhost:5000/users/register\", {\r\n            name: name,\r\n            email: email,\r\n            password: password,\r\n          })\r\n          .then((res) => {\r\n            if (res.data.status === 200) {\r\n              window.alert(\"Registered sucessfully\");\r\n              window.alert(res.data.message);\r\n              window.location.replace(`http://${window.location.host}/login`);\r\n            } else if (res.data.status === 400) {\r\n              if (res.data.message) {\r\n                window.alert(res.data.message);\r\n                window.location.reload();\r\n              }\r\n            } else {\r\n              window.alert(\"Some error occured. check console.\");\r\n              console.log(res.data);\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      } else {\r\n        window.alert(\"Passwords don't match\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Grid>\r\n        <Paper elevation={10} style={paperStyle}>\r\n          <Grid align=\"center\">\r\n            <Avatar style={avatarStyle}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <h2 style={{ marginTop: \"20px\" }}>Register</h2>\r\n          </Grid>\r\n          <TextField\r\n            label=\"Name\"\r\n            placeholder=\"Enter Name\"\r\n            fullWidth\r\n            required\r\n            value={name}\r\n            style={{ marginTop: \"15px\" }}\r\n            onChange={(event) => {\r\n              setName(event.target.value);\r\n            }}\r\n          />\r\n          <TextField\r\n            label=\"Email\"\r\n            placeholder=\"Enter Email\"\r\n            fullWidth\r\n            required\r\n            value={email}\r\n            onChange={(event) => {\r\n              setEmail(event.target.value);\r\n            }}\r\n          />\r\n          <TextField\r\n            label=\"Password\"\r\n            placeholder=\"Enter password\"\r\n            type=\"password\"\r\n            fullWidth\r\n            required\r\n            value={password}\r\n            onChange={(event) => {\r\n              setPassword(event.target.value);\r\n            }}\r\n          />\r\n          <TextField\r\n            label=\"Confrim password\"\r\n            placeholder=\"Re-enter password\"\r\n            type=\"password\"\r\n            fullWidth\r\n            required\r\n            value={confrimPassword}\r\n            onChange={(event) => {\r\n              setConfrimPassword(event.target.value);\r\n            }}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            style={btnstyle}\r\n            fullWidth\r\n            onClick={postRegister}\r\n          >\r\n            Register\r\n          </Button>\r\n          <Typography style={{ marginTop: \"5px\" }}>\r\n            {\" \"}\r\n            Have an account?<Link href=\"/login\"> Login</Link>\r\n          </Typography>\r\n        </Paper>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  login: {\r\n    margin: \"50px\",\r\n  },\r\n  register: {\r\n    margin: \"0 50px\",\r\n  },\r\n});\r\n\r\nconst LoginRegister = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Container className={classes.container} maxWidth=\"xs\">\r\n        <Button\r\n          className={classes.login}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          href=\"/login\"\r\n        >\r\n          Login\r\n        </Button>\r\n        <Button\r\n          className={classes.register}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          href=\"/register\"\r\n        >\r\n          Register\r\n        </Button>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default LoginRegister;\r\n","const NotFound = () => {\r\n  return <h1>not found</h1>;\r\n};\r\n\r\nexport default NotFound;\r\n","import { BrowserRouter } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  button_menu: {\r\n    color: \"white\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst Unapproved = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\" style={{ marginBottom: \"5px\" }}>\r\n          <Toolbar>\r\n            <IconButton\r\n              href=\"/\"\r\n              edge=\"start\"\r\n              className={classes.menuButton}\r\n              color=\"inherit\"\r\n              aria-label=\"home\"\r\n            >\r\n              <HomeIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Payment Management Service\r\n            </Typography>\r\n            <div>\r\n              <Button\r\n                className={classes.button_menu}\r\n                aria-controls=\"simple-menu\"\r\n                aria-haspopup=\"true\"\r\n                href=\"/login\"\r\n              >\r\n                Log In\r\n              </Button>\r\n            </div>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n      <Typography\r\n        style={{ marginTop: \"5px\" }}\r\n        variant=\"h5\"\r\n        component=\"h2\"\r\n        align=\"center\"\r\n        gutterBottom\r\n      >\r\n        You are not approved by the admin\r\n      </Typography>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Unapproved;\r\n","import Button from \"@material-ui/core/Button\";\r\n\r\nconst ResetPassword = ({ token }) => {\r\n  const goToResetPage = () => {\r\n    window.location.replace(\r\n      `http://${window.location.host}/resetPassword/${token}`\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      style={{ margin: 20 }}\r\n      variant=\"contained\"\r\n      color=\"primary\"\r\n      onClick={goToResetPage}\r\n    >\r\n      Reset Password\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport ResetPassword from \"../reset-password\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  button_menu: {\r\n    color: \"white\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function NavBarUser({ username, token }) {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" style={{ marginBottom: \"5px\" }}>\r\n        <Toolbar>\r\n          <IconButton\r\n            href=\"/\"\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"home\"\r\n          >\r\n            <HomeIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Payment management service\r\n          </Typography>\r\n          <div>\r\n            <ResetPassword token={token} />\r\n            <Button\r\n              className={classes.button_menu}\r\n              aria-controls=\"simple-menu\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleClick}\r\n            >\r\n              {username}\r\n              <span className=\"material-icons-outlined\">expand_more</span>\r\n            </Button>\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={anchorEl}\r\n              keepMounted\r\n              open={Boolean(anchorEl)}\r\n              onClose={handleClose}\r\n            >\r\n              <MenuItem\r\n                onClick={() => {\r\n                  localStorage.removeItem(\"token\");\r\n                  window.location.replace(`http://${window.location.host}`);\r\n                }}\r\n              >\r\n                Logout\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import { BrowserRouter } from \"react-router-dom\";\r\nimport { Container, Typography } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport UnpaidInvoice from \"./unpaid-invoice\";\r\n\r\nconst UserBills = ({ token }) => {\r\n  const [Bills, setBills] = useState([]);\r\n  const [haveBills, setHavebills] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getBills();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const getBills = () => {\r\n    axios\r\n      .get(`http://localhost:5000/invoices/userBills`, {\r\n        headers: {\r\n          token: token,\r\n        },\r\n      })\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        setBills(data.bills);\r\n        if (data.haveBills) {\r\n          setHavebills(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"some error occured check console\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Typography\r\n        style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n        variant=\"h6\"\r\n        component=\"h2\"\r\n        align=\"left\"\r\n        gutterBottom\r\n      >\r\n        <b>Pending Invoices</b>\r\n      </Typography>\r\n      <Container>\r\n        {haveBills ? (\r\n          <UnpaidInvoice rows_data={Bills} />\r\n        ) : (\r\n          <Typography\r\n            style={{ marginTop: \"5px\", marginLeft: \"15px\" }}\r\n            variant=\"body1\"\r\n            component=\"h2\"\r\n            align=\"left\"\r\n            gutterBottom\r\n          >\r\n            You dont have any pending bills\r\n          </Typography>\r\n        )}\r\n      </Container>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default UserBills;\r\n","import { BrowserRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport InvoicesTable from \"./invoices-table\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nconst UserReceiptsUserPage = ({ token }) => {\r\n  const [receipts, setReceipts] = useState([]);\r\n  const [haveReceipts, setHaveReceipts] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getReceipts();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const getReceipts = () => {\r\n    axios\r\n      .get(`http://localhost:5000/invoices/userReceipts/:id`, {\r\n        headers: {\r\n          token: token,\r\n        },\r\n      })\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        //handle respose\r\n        setReceipts(data.receipts);\r\n        if (data.haveReceipts) {\r\n          setHaveReceipts(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"some error occured check console\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      {haveReceipts ? (\r\n        <InvoicesTable rows_data={receipts} />\r\n      ) : (\r\n        <Typography variant=\"h5\" component=\"h2\" align=\"left\" gutterBottom>\r\n          You dont have any paid invoices\r\n        </Typography>\r\n      )}\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default UserReceiptsUserPage;\r\n","import NavBarUser from \"../components/nav-bar/nav-bar-user\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport UserBills from \"../components/user-bills\";\r\nimport UserReceiptsUserPage from \"../components/user-receipts-for-userPage\";\r\n\r\nconst axios = require(\"axios\");\r\nconst UserPage = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  const [user, setUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      axios\r\n        .get(`http://localhost:5000/users/single_user`, {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setUser(res.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      window.alert(\"You are not logged in\");\r\n    }\r\n  }, [token]);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <NavBarUser username={user.name} token={token} />\r\n      <UserBills token={token} />\r\n      <UserReceiptsUserPage token={token} />\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default UserPage;\r\n","import { Grid, Paper, Avatar, TextField, Button } from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst ResetPassword = ({\r\n  match: {\r\n    params: { token },\r\n  },\r\n}) => {\r\n  const paperStyle = {\r\n    padding: 20,\r\n    height: \"70vh\",\r\n    width: 280,\r\n    margin: \"20px auto\",\r\n  };\r\n  const avatarStyle = { backgroundColor: \"rgb(51, 70, 176)\" };\r\n  const btnstyle = { margin: \"8px 0\", marginTop: \"68px\" };\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const postNewPassword = () => {\r\n    if (password.length < 6) {\r\n      window.alert(\"Password should be more than 6\");\r\n    } else {\r\n      axios\r\n        .put(\r\n          `http://localhost:5000/users/changePassword`,\r\n          {\r\n            password: password,\r\n          },\r\n          {\r\n            headers: {\r\n              token: token,\r\n            },\r\n          }\r\n        )\r\n        .then((res) => res.data)\r\n        .then((data) => {\r\n          if (data.status === 400) {\r\n            window.alert(data.message);\r\n          } else {\r\n            window.alert(data.message);\r\n            window.location.replace(`http://${window.location.host}/login`);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Grid>\r\n      <Paper elevation={10} style={paperStyle}>\r\n        <Grid align=\"center\">\r\n          <Avatar style={avatarStyle}>\r\n            <LockOutlinedIcon style={{ backgroundColor: \"rgb(51, 70, 176)\" }} />\r\n          </Avatar>\r\n          <h2 style={{ marginTop: \"20px\" }}>Reset Password</h2>\r\n        </Grid>\r\n        <TextField\r\n          label=\"New Password\"\r\n          placeholder=\"Enter new password\"\r\n          type=\"password\"\r\n          fullWidth\r\n          required\r\n          style={{ marginTop: \"7px\" }}\r\n          value={password}\r\n          onChange={(event) => {\r\n            setPassword(event.target.value);\r\n          }}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          style={btnstyle}\r\n          fullWidth\r\n          onClick={postNewPassword}\r\n        >\r\n          Reset\r\n        </Button>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n","import { Button } from \"@material-ui/core\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport axios from \"axios\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React, { useEffect } from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  button_menu: {\r\n    color: \"white\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst VerifyUser = ({\r\n  match: {\r\n    params: { token },\r\n  },\r\n}) => {\r\n  const classes = useStyles();\r\n  useEffect(() => {\r\n    verifyuser();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  const verifyuser = () => {\r\n    axios\r\n      .put(`http://localhost:5000/users/verifyUser/${token}`)\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        if (data.status === 400) {\r\n          window.alert(data.message);\r\n        } else {\r\n          window.alert(data.message);\r\n          window.location.replace(`http://${window.location.host}/login`);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\" style={{ marginBottom: \"5px\" }}>\r\n          <Toolbar>\r\n            <IconButton\r\n              href=\"/\"\r\n              edge=\"start\"\r\n              className={classes.menuButton}\r\n              color=\"inherit\"\r\n              aria-label=\"home\"\r\n            >\r\n              <HomeIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Payment management service\r\n            </Typography>\r\n            <div>\r\n              <Button\r\n                className={classes.button_menu}\r\n                aria-controls=\"simple-menu\"\r\n                aria-haspopup=\"true\"\r\n                href=\"/login\"\r\n              >\r\n                Log In\r\n              </Button>\r\n            </div>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n      <Typography\r\n        style={{ marginTop: \"5px\" }}\r\n        variant=\"h5\"\r\n        component=\"h2\"\r\n        align=\"center\"\r\n        gutterBottom\r\n      >\r\n        You have been verified\r\n      </Typography>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default VerifyUser;\r\n","import { Grid, Paper, Avatar, TextField, Button } from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst ForgotPassword = () => {\r\n  const paperStyle = {\r\n    padding: 20,\r\n    height: \"70vh\",\r\n    width: 280,\r\n    margin: \"20px auto\",\r\n  };\r\n  const avatarStyle = { backgroundColor: \"rgb(51, 70, 176)\" };\r\n  const btnstyle = { margin: \"8px 0\", marginTop: \"68px\" };\r\n\r\n  const [Email, setEmail] = useState(\"\");\r\n\r\n  const findAndSendMail = () => {\r\n    axios\r\n      .put(`http://localhost:5000/users/forgotPassword/${Email}`)\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        if (data.status === 400) {\r\n          window.alert(data.message);\r\n        } else {\r\n          window.alert(data.message);\r\n          window.location.replace(`http://${window.location.host}/login`);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Grid>\r\n      <Paper elevation={10} style={paperStyle}>\r\n        <Grid align=\"center\">\r\n          <Avatar style={avatarStyle}>\r\n            <LockOutlinedIcon style={{ backgroundColor: \"rgb(51, 70, 176)\" }} />\r\n          </Avatar>\r\n          <h2 style={{ marginTop: \"20px\" }}>Forgot Password</h2>\r\n        </Grid>\r\n        <TextField\r\n          label=\"Email\"\r\n          placeholder=\"Enter Email\"\r\n          type=\"Email\"\r\n          fullWidth\r\n          required\r\n          style={{ marginTop: \"7px\" }}\r\n          value={Email}\r\n          onChange={(event) => {\r\n            setEmail(event.target.value);\r\n          }}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          style={btnstyle}\r\n          fullWidth\r\n          onClick={findAndSendMail}\r\n        >\r\n          Send mail\r\n        </Button>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n","import NavBarAdmin from \"../components/nav-bar/nav-bar-admin\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport ResetPassword from \"../components/reset-password\";\r\nconst axios = require(\"axios\");\r\n\r\nconst AccountInfo = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  const [user, setUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      axios\r\n        .get(`http://localhost:5000/users/single_user`, {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setUser(res.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      window.alert(\"You are not logged in\");\r\n    }\r\n  }, [token]);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <NavBarAdmin username={user.name} token={token} />\r\n      <ResetPassword token={token} />\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default AccountInfo;\r\n","import { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport Dashboard from \"./pages/dashboard\";\r\nimport Login from \"./pages/login\";\r\nimport Register from \"./pages/register\";\r\nimport LoginRegister from \"./pages/login-register\";\r\nimport NotFound from \"./components/not-found\";\r\nimport Unapproved from \"./pages/unapproved\";\r\nimport UserPage from \"./pages/userPage\";\r\nimport ResetPassword from \"./pages/reset-password\";\r\nimport VerifyUser from \"./pages/verifyUser\";\r\nimport ForgotPassword from \"./pages/forgotpassword\";\r\nimport AccountInfo from \"./pages/myAccount\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={LoginRegister} />\r\n        <Route exact path=\"/dashboard\" component={Dashboard} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n        <Route exact path=\"/register\" component={Register} />\r\n        <Route exact path=\"/unapproved\" component={Unapproved} />\r\n        <Route exact path=\"/userPage\" component={UserPage} />\r\n        <Route exact path=\"/myAccount\" component={AccountInfo} />\r\n        <Route exact path=\"/forgotPassword\" component={ForgotPassword} />\r\n        <Route path=\"/resetPassword/:token\" component={ResetPassword} />\r\n        <Route path=\"/verifyUser/:token\" component={VerifyUser} />\r\n\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./app\";\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}