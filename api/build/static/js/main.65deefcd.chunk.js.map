{"version":3,"sources":["components/user-table-row.jsx","components/rows-Custom-table.jsx","components/custom-Table.jsx","components/upload-bills.jsx","components/upload-receipts.jsx","components/upload-users.jsx","components/nav-bar/nav-bar-admin.jsx","components/invoices-table.jsx","components/payBill.jsx","components/unpaid-invoice.jsx","components/user-receipts-invoices.jsx","pages/dashboard.jsx","pages/login.jsx","pages/register.jsx","pages/login-register.jsx","components/not-found.jsx","pages/unapproved.jsx","components/reset-password.jsx","components/nav-bar/nav-bar-user.jsx","pages/userPage.jsx","pages/reset-password.jsx","pages/verifyUser.jsx","pages/forgotpassword.jsx","pages/myAccount.jsx","app.jsx","index.js"],"names":["axios","require","useStyles","makeStyles","table","minWidth","TableRow","TableCell","color","UserRow","user","token","getReceipts","classes","useState","isAdmin","admin_role","setAdmin_role","approved","setApproved","style","padding","name","email","Button","onClick","id","window","confirm","updated_user","password","put","location","host","headers","then","res","alert","data","message","catch","err","console","log","updateApprove","_id","variant","FormControl","className","formControl","Select","labelId","value","onChange","event","target","updateRole","MenuItem","textAlign","IconButton","aria-label","margin","delete","reload","RowsInTable","coloum_names","colour","backgroundColor","map","element","index","toString","CustomTable","errors","setColoum_names","useEffect","keys","Object","entries","key","push","Container","Box","overflow","marginTop","border","borderBottom","Table","size","TableHead","TableBody","item","UploadBillsData","open","setOpen","data_user","setData_user","data_SO","setData_SO","data_to_be_send","setData_to_be_send","fileSelected","setFileSelected","fileCorrect","setCorrect","percentage","setPercentage","errors_in_custData","setErrors_in_custData","errors_in_SOData","setErrors_in_SOData","userDataTables","setUserDataTables","SODataTables","setSODataTables","errorColourCustData","setErrorColourCustData","errorsColourSOData","setErrorsColourSOData","bigError","setBigError","handleClose","sendUploadedFile","file","reader","FileReader","onload","evt","fileData","workbook","XLSX","type","cellDates","cellNF","cellText","SheetNames","forEach","sheetName","XL_row_object","sheet_to_row_object_array","Sheets","parseExcel","result","readAsBinaryString","noErrors","length","cloumn_name","i","temp_cloumn_name","row","j","found_in_temp","k","userData_tables","SOData_tables","one_user","parseFloat","date","Date","toDateString","ColourCustData","includes","ColourSOData","Fragment","marginRight","Dialog","fullWidth","maxWidth","onClose","aria-labelledby","DialogTitle","float","DialogContent","DialogContentText","marginBottom","component","title","accept","e","files","hidden","Typography","align","gutterBottom","LinearProgress","DialogActions","options","onUploadProgress","progessEvent","loaded","total","precent","Math","floor","post","setTimeout","disabled","UploadReceiptData","React","confirm_NotFound","setconfirm_NotFound","not_found_emails","setNot_found_emails","not_found_bills","setNot_found_bills","scrollRef","useRef","current","scrollIntoView","behaviour","ref","missing","not_found","emails","bills","display","UploadUserData","round","theme","root","flexGrow","width","menuButton","spacing","button_menu","NavBarAdmin","username","anchorEl","setAnchorEl","AppBar","position","Toolbar","href","edge","aria-controls","aria-haspopup","currentTarget","Menu","keepMounted","Boolean","replace","localStorage","removeItem","headCells","numeric","disablePadding","label","addCommas","l","t","n","indexOf","slice","compareDates","a","b","orderBy","date2","getTime","date1","descendingComparator","getComparator","order","stableSort","array","comparator","stabilizedThis","el","sort","EnhancedTableHead","onRequestSort","headCell","ind","sortDirection","paddingLeft","TableSortLabel","active","direction","property","visuallyHidden","paper","clip","height","top","InvoicesTable","rows_data","inAdmin","setOrder","setOrderBy","page","setPage","rowsPerPage","setRowsPerPage","rows","setRows","receipt","invoice","invoice_date","currency","due_amount","due_date","amount_paid","createData","bill_url","textDecoration","invoice_num","invoice_detials","invoice_dt","invoice_currency","final_bal_due","receipt_url","marginInline","Paper","TableContainer","hover","tabIndex","scope","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","parseInt","loadScript","src","Promise","resolve","script","document","createElement","onerror","body","appendChild","PayBill","bill","displayRazorpay","get","getItem","amount","order_id","description","desc","image","handler","response","prefill","phone_number","cust_ph_num","Razorpay","UnpaidInvoice","payBill","toFixed","UserReceiptsInvoices","userID","toggleView","setUser","receipts","setReceipts","setBills","haveBills","setHavebills","haveReceipts","setHaveReceipts","receiptYTD","setReceiptYTD","billYTD","setBillYTD","currenciesBill","setCurrenciesBill","currenciesReceipt","setCurrenciesReceipt","getBills","getReceiptsYTD","getBillsYTD","currencies","marginLeft","fontSize","Dashboard","users","setUsers","userName","setUsername","onDashboard","setOnDashboard","fetchReciptsOf","setFetchReciptsOf","userId","Login","setEmail","setPassword","Grid","elevation","Avatar","TextField","placeholder","required","status","setItem","Link","Register","setName","confrimPassword","setConfrimPassword","container","flexDirection","login","register","LoginRegister","NotFound","Unapproved","ResetPassword","NavBarUser","UserPage","match","params","VerifyUser","verifyuser","ForgotPassword","Email","AccountInfo","App","exact","path","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.65deefcd.chunk.js","sourcesContent":["import { useState } from \"react\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\r\n\r\nconst axios = require(\"axios\");\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n  TableRow: {\r\n    TableCell: { color: \"white\" },\r\n  },\r\n});\r\n\r\nconst UserRow = ({ user, token, getReceipts }) => {\r\n  const classes = useStyles();\r\n\r\n  const [admin_role, setAdmin_role] = useState(user.isAdmin);\r\n  const [approved, setApproved] = useState(user.approved);\r\n\r\n  const updateRole = (id, event) => {\r\n    if (!admin_role) {\r\n      let result = window.confirm(\r\n        \"Make admin? After user is made admin you cannot change back\"\r\n      );\r\n      if (result) {\r\n        setAdmin_role(event.target.value);\r\n        let updated_user = {\r\n          name: user.name,\r\n          email: user.email,\r\n          password: user.password,\r\n          isAdmin: true,\r\n        };\r\n\r\n        axios\r\n          .put(\r\n            `http://${window.location.host}/users/updateRole/${id}`,\r\n            updated_user,\r\n            {\r\n              headers: { token: token, \"Content-Type\": \"application/json\" },\r\n            }\r\n          )\r\n          .then((res) => {\r\n            window.alert(res.data.message);\r\n          })\r\n          .catch((err) => {\r\n            window.alert(\"some error occured please check console\");\r\n            console.log(err);\r\n          });\r\n      }\r\n    } else {\r\n      window.alert(\"Cannot change role of admin\");\r\n    }\r\n  };\r\n\r\n  const updateApprove = (id) => {\r\n    let result = window.confirm(\"Apprrove? This action cannot be reversed\");\r\n    if (result) {\r\n      setApproved(true);\r\n      let updated_user = {\r\n        name: user.name,\r\n        email: user.email,\r\n        password: user.password,\r\n        isAdmin: user.isAdmin,\r\n        approved: true,\r\n      };\r\n\r\n      axios\r\n        .put(\r\n          `http://${window.location.host}/users/update/${id}`,\r\n          updated_user,\r\n          {\r\n            headers: {\r\n              token: token,\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          }\r\n        )\r\n        .then((res) => {\r\n          window.alert(res.data.message);\r\n        })\r\n        .catch((err) => {\r\n          window.alert(\"some error occured please check console\");\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  const deleteUser = (id) => {\r\n    let result = window.confirm(\"Want to delete?\");\r\n    if (result) {\r\n      axios\r\n        .delete(`http://${window.location.host}/users/${id}`, {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          window.alert(res.data.message);\r\n          window.location.reload();\r\n        })\r\n        .catch((err) => {\r\n          window.alert(\"some error occured please check console\");\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  const switchToReceipts = () => {\r\n    getReceipts(user._id);\r\n  };\r\n\r\n  return (\r\n    <TableRow>\r\n      <TableCell style={{ padding: \"0 16px\" }}>{user.name}</TableCell>\r\n      <TableCell style={{ padding: \"0 16px\" }}>{user.email}</TableCell>\r\n      <TableCell style={{ padding: \"0 16px\" }}>\r\n        {approved ? (\r\n          \"Approved\"\r\n        ) : (\r\n          <Button\r\n            onClick={() => {\r\n              updateApprove(user._id);\r\n            }}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            Approve\r\n          </Button>\r\n        )}\r\n      </TableCell>\r\n      <TableCell style={{ padding: \"0 16px\" }}>\r\n        <FormControl className={classes.formControl}>\r\n          <Select\r\n            labelId=\"demo-simple-select-label\"\r\n            id=\"demo-simple-select\"\r\n            value={admin_role}\r\n            onChange={(event) => {\r\n              updateRole(user._id, event);\r\n            }}\r\n          >\r\n            <MenuItem value={true}>Admin</MenuItem>\r\n            <MenuItem value={false}>User</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </TableCell>\r\n      <TableCell style={{ padding: \"0 16px\", textAlign: \"center\" }}>\r\n        <IconButton\r\n          onClick={switchToReceipts}\r\n          aria-label=\"update\"\r\n          className={classes.margin}\r\n        >\r\n          <AssignmentIcon />\r\n        </IconButton>\r\n      </TableCell>\r\n      <TableCell style={{ padding: \"0 16px\", textAlign: \"center\" }}>\r\n        <IconButton\r\n          onClick={() => {\r\n            deleteUser(user._id);\r\n          }}\r\n          aria-label=\"delete\"\r\n          className={classes.margin}\r\n        >\r\n          <DeleteIcon />\r\n        </IconButton>\r\n      </TableCell>\r\n    </TableRow>\r\n  );\r\n};\r\n\r\nexport default UserRow;\r\n","import TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\n\r\nconst RowsInTable = ({ data, coloum_names, colour }) => {\r\n  return (\r\n    <TableRow style={{ backgroundColor: colour ? colour : \"\" }}>\r\n      {coloum_names.map((element, index) =>\r\n        element.name ? (\r\n          <TableCell key={index}>\r\n            {data[element.name] || data[element.name] === 0\r\n              ? data[element.name].toString()\r\n              : \"\"}\r\n          </TableCell>\r\n        ) : (\r\n          false\r\n        )\r\n      )}\r\n    </TableRow>\r\n  );\r\n};\r\n\r\nexport default RowsInTable;\r\n","import { BrowserRouter } from \"react-router-dom\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport RowsInTable from \"./rows-Custom-table\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst CustomTable = ({ data, errors }) => {\r\n  const [coloum_names, setColoum_names] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let keys = [];\r\n    for (const [key, value] of Object.entries(data[0])) {\r\n      keys.push({ name: key, value: value });\r\n    }\r\n    setColoum_names(keys);\r\n  }, [data]);\r\n  return (\r\n    <BrowserRouter>\r\n      <Container>\r\n        <Box\r\n          style={{\r\n            overflow: \"auto\",\r\n            margin: \"7px\",\r\n            marginTop: 0,\r\n            border: \"1.5px solid rgb(243, 243, 243)\",\r\n            borderBottom: 0,\r\n          }}\r\n        >\r\n          <Table size={\"small\"}>\r\n            <TableHead>\r\n              <TableRow>\r\n                {coloum_names.map((element, index) =>\r\n                  element.name ? (\r\n                    <TableCell key={index}>\r\n                      <b>{element.name}</b>\r\n                    </TableCell>\r\n                  ) : (\r\n                    false\r\n                  )\r\n                )}\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {data.map((item, index) => (\r\n                <RowsInTable\r\n                  key={index}\r\n                  data={item}\r\n                  coloum_names={coloum_names}\r\n                  colour={errors[index] ? errors[index] : \"\"}\r\n                />\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </Box>\r\n      </Container>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default CustomTable;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport * as XLSX from \"xlsx\";\r\nimport axios from \"axios\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CustomTable from \"./custom-Table\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nfunction UploadBillsData({ token }) {\r\n  const [open, setOpen] = useState(false);\r\n  const [data_user, setData_user] = useState([]);\r\n  const [data_SO, setData_SO] = useState([]);\r\n  const [data_to_be_send, setData_to_be_send] = useState({});\r\n  const [fileSelected, setFileSelected] = useState(false);\r\n  const [fileCorrect, setCorrect] = useState(false);\r\n  const [percentage, setPercentage] = useState(0);\r\n  const [errors_in_custData, setErrors_in_custData] = useState([]);\r\n  const [errors_in_SOData, setErrors_in_SOData] = useState([]);\r\n  const [userDataTables, setUserDataTables] = useState([]);\r\n  const [SODataTables, setSODataTables] = useState([]);\r\n  const [errorColourCustData, setErrorColourCustData] = useState({});\r\n  const [errorsColourSOData, setErrorsColourSOData] = useState({});\r\n  const [bigError, setBigError] = useState(false);\r\n\r\n  //handle viewing\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  // process XLSX data\r\n  const parseExcel = (fileData) => {\r\n    const workbook = XLSX.read(fileData, {\r\n      type: \"binary\",\r\n      cellDates: true,\r\n      cellNF: false,\r\n      cellText: false,\r\n    });\r\n    let data = {};\r\n    workbook.SheetNames.forEach(function (sheetName) {\r\n      const XL_row_object = XLSX.utils.sheet_to_row_object_array(\r\n        workbook.Sheets[sheetName]\r\n      );\r\n      console.log(\"sheetNames\", workbook.SheetNames);\r\n      data[sheetName] = XL_row_object;\r\n    });\r\n    setData_user(data[\"cust_data\"]);\r\n    setData_SO(data[\"solutions_owner_data\"]);\r\n    setData_to_be_send(data);\r\n    setFileSelected(true);\r\n  };\r\n  //upload user data\r\n  const axiosPostRequest = () => {\r\n    const options = {\r\n      headers: {\r\n        token: token,\r\n      },\r\n      onUploadProgress: (progessEvent) => {\r\n        const { loaded, total } = progessEvent;\r\n        let precent = Math.floor((loaded * 100) / total);\r\n        if (precent < 100) {\r\n          setPercentage(precent);\r\n        }\r\n      },\r\n    };\r\n    if (bigError) {\r\n      window.alert(\r\n        \"There is some error in the file uploaded. Please fix it to upload the file\"\r\n      );\r\n    } else {\r\n      axios\r\n        .post(\r\n          `http://${window.location.host}/invoices/uploadBillsData`,\r\n\r\n          data_to_be_send,\r\n          options\r\n        )\r\n        .then((res) => {\r\n          setPercentage(100);\r\n          setTimeout(() => {\r\n            setPercentage(0);\r\n          }, 1000);\r\n          console.log(res);\r\n          window.alert(res.data.message);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          window.alert(\"some error occured please check console\");\r\n        });\r\n    }\r\n  };\r\n\r\n  // handle file upload\r\n  const sendUploadedFile = (file) => {\r\n    const reader = new FileReader();\r\n    reader.onload = (evt) => {\r\n      /* get binary string */\r\n      const bstr = evt.target.result;\r\n\r\n      parseExcel(bstr);\r\n    };\r\n    reader.readAsBinaryString(file);\r\n  };\r\n\r\n  const handleFileUpload = (e) => {\r\n    sendUploadedFile(e.target.files[0]);\r\n  };\r\n\r\n  //check data in file\r\n  useEffect(() => {\r\n    let noErrors = true;\r\n    if (fileSelected) {\r\n      if (data_user.length) {\r\n        let errors = [];\r\n        const cloumn_name = [\r\n          \"cust_id\",\r\n          \"cust_tax_id\",\r\n          \"cust_pan\",\r\n          \"cust_firm\",\r\n          \"cust_keyman\",\r\n          \"cust_email\",\r\n          \"cust_ph_isd\",\r\n          \"cust_ph_num\",\r\n          \"cust_add_cntry\",\r\n          \"cust_add_zip\",\r\n          \"cust_add_state\",\r\n          \"cust_add_city\",\r\n          \"cust_add_landmark\",\r\n          \"cust_add_street\",\r\n          \"invoice_dt\",\r\n          \"invoice_num\",\r\n          \"invoice_currency\",\r\n          \"invoice_amt\",\r\n          \"discount\",\r\n          \"email_dt\",\r\n          \"desc\",\r\n          \"TDS\",\r\n          \"GST\",\r\n          \"due_date\",\r\n          \"reminder_1\",\r\n          \"reminder_2\",\r\n          \"final_bal_due\",\r\n          \"email_dt\",\r\n          \"paid\",\r\n          \"nonSystem_payment_method\",\r\n          \"Shown_in_System_Fag\",\r\n          \"nonSystem_payment_date\",\r\n          \"nonSystem_payment_amt\",\r\n        ];\r\n        for (let i = 0; i < data_user.length; i++) {\r\n          let temp_cloumn_name = [];\r\n          //check empty valule\r\n          for (const [key, value] of Object.entries(data_user[i])) {\r\n            temp_cloumn_name.push(key);\r\n            if (!value) {\r\n              if (value !== 0) {\r\n                noErrors = false;\r\n                errors.push({\r\n                  row: i,\r\n                  cloumn_name: key,\r\n                });\r\n              }\r\n            }\r\n          }\r\n          //check missing key\r\n          for (let j = 0; j < cloumn_name.length; j++) {\r\n            let found_in_temp = false;\r\n            for (let k = 0; k < temp_cloumn_name.length; k++) {\r\n              if (temp_cloumn_name[k] === cloumn_name[j]) {\r\n                found_in_temp = true;\r\n              }\r\n            }\r\n            if (!found_in_temp) {\r\n              noErrors = false;\r\n              errors.push({\r\n                row: i,\r\n                cloumn_name: cloumn_name[j],\r\n              });\r\n            }\r\n          }\r\n        }\r\n        setErrors_in_custData(errors);\r\n      }\r\n      if (data_SO.length) {\r\n        let errors = [];\r\n        const cloumn_name = [\r\n          \"so_keyman\",\r\n          \"so_keyman_title\",\r\n          \"so_email\",\r\n          \"so_position\",\r\n          \"so_ph_isd\",\r\n          \"so_ph_num\",\r\n          \"so_add_cntry\",\r\n          \"so_add_zip\",\r\n          \"so_add_state\",\r\n          \"so_add_city\",\r\n\r\n          \"so_add_street\",\r\n          \"so_firm\",\r\n          \"so_firm_email\",\r\n          \"so_firm_acc_name\",\r\n          \"so_firm_acc_num\",\r\n          \"so_firm_ifsc\",\r\n          \"so_firm_swift\",\r\n          \"so_firm_ph_isd\",\r\n          \"so_firm_ph_num\",\r\n          \"so_firm_add_cntry\",\r\n          \"so_firm_add_zip\",\r\n          \"so_firm_add_state\",\r\n          \"so_firm_add_city\",\r\n\r\n          \"so_firm_add_street\",\r\n        ];\r\n        for (let i = 0; i < data_SO.length; i++) {\r\n          let temp_cloumn_name = [];\r\n          //check empty valule\r\n          for (const [key, value] of Object.entries(data_SO[i])) {\r\n            temp_cloumn_name.push(key);\r\n            if (!value) {\r\n              if (value !== 0) {\r\n                noErrors = false;\r\n                errors.push({ row: i, cloumn_name: key });\r\n              }\r\n            }\r\n          }\r\n          //check missing key\r\n          for (let j = 0; j < cloumn_name.length; j++) {\r\n            let found_in_temp = false;\r\n            for (let k = 0; k < temp_cloumn_name.length; k++) {\r\n              if (temp_cloumn_name[k] === cloumn_name[j]) {\r\n                found_in_temp = true;\r\n              }\r\n            }\r\n            if (!found_in_temp) {\r\n              noErrors = false;\r\n              errors.push({\r\n                row: i,\r\n                cloumn_name: cloumn_name[j],\r\n              });\r\n            }\r\n          }\r\n        }\r\n        setErrors_in_SOData(errors);\r\n      }\r\n      if (noErrors) {\r\n        setCorrect(true);\r\n      } else {\r\n        window.alert(\"Missing Data in user data sheet. Fix it to send file\");\r\n      }\r\n    }\r\n  }, [fileSelected, data_SO, data_user]);\r\n\r\n  //format data for tables\r\n  useEffect(() => {\r\n    let userData_tables = [];\r\n    let SOData_tables = [];\r\n    for (let i = 0; i < data_user.length; i++) {\r\n      let one_user = {};\r\n      for (const [key, value] of Object.entries(data_user[i])) {\r\n        if (\r\n          key === \"invoice_dt\" ||\r\n          key === \"cust_tax_id\" ||\r\n          key === \"cust_keyman\" ||\r\n          key === \"cust_email\" ||\r\n          key === \"cust_firm\" ||\r\n          key === \"invoice_num\" ||\r\n          key === \"invoice_currency\" ||\r\n          key === \"email_dt\" ||\r\n          key === \"final_bal_due\"\r\n        ) {\r\n          if (key === \"final_bal_due\") {\r\n            one_user[key] = parseFloat(value);\r\n          } else if (\r\n            key === \"email_dt\" ||\r\n            key === \"invoice_dt\" ||\r\n            key === \"due_date\"\r\n          ) {\r\n            const date = new Date(value);\r\n            one_user[key] = date.toDateString();\r\n          } else {\r\n            one_user[key] = value;\r\n          }\r\n        }\r\n      }\r\n      userData_tables.push(one_user);\r\n    }\r\n    for (let i = 0; i < data_SO.length; i++) {\r\n      let one_user = {};\r\n      for (const [key, value] of Object.entries(data_SO[i])) {\r\n        if (\r\n          key === \"so_keyman\" ||\r\n          key === \"so_email\" ||\r\n          key === \"so_firm_email\" ||\r\n          key === \"so_firm_email\" ||\r\n          key === \"so_firm_acc_name\" ||\r\n          key === \"so_firm_acc_num\" ||\r\n          key === \"so_firm_ifsc\" ||\r\n          key === \"so_firm_swift\"\r\n        ) {\r\n          one_user[key] = value;\r\n        }\r\n      }\r\n      SOData_tables.push(one_user);\r\n    }\r\n    setUserDataTables(userData_tables);\r\n    setSODataTables(SOData_tables);\r\n  }, [data_SO, data_user]);\r\n\r\n  //colour the rows\r\n  useEffect(() => {\r\n    let ColourCustData = {};\r\n    for (let i = 0; i < errors_in_custData.length; i++) {\r\n      const orangeWarning = [];\r\n      const redWarning = [\r\n        \"invoice_dt\",\r\n        \"cust_tax_id\",\r\n        \"cust_keyman\",\r\n        \"cust_email\",\r\n        \"cust_firm\",\r\n        \"invoice_num\",\r\n        \"invoice_currency\",\r\n        \"email_dt\",\r\n        \"final_bal_due\",\r\n      ];\r\n\r\n      if (orangeWarning.includes(errors_in_custData[i].cloumn_name)) {\r\n        ColourCustData[errors_in_custData[i].row] = \"#FF6666\";\r\n      }\r\n      if (redWarning.includes(errors_in_custData[i].cloumn_name)) {\r\n        setBigError(true);\r\n        ColourCustData[errors_in_custData[i].row] = \"#FFB266\";\r\n      }\r\n    }\r\n    setErrorColourCustData(ColourCustData);\r\n\r\n    //colour so data\r\n    let ColourSOData = {};\r\n    for (let i = 0; i < errors_in_SOData.length; i++) {\r\n      const orangeWarning = [];\r\n      const redWarning = [\r\n        \"so_firm_acc_name\",\r\n        \"so_firm_acc_num\",\r\n        \"so_firm_ifsc\",\r\n        \"so_firm_swift\",\r\n      ];\r\n\r\n      if (orangeWarning.includes(errors_in_SOData[i].cloumn_name)) {\r\n        ColourSOData[errors_in_SOData[i].row] = \"#FF6666\";\r\n      }\r\n      if (redWarning.includes(errors_in_SOData[i].cloumn_name)) {\r\n        setBigError(true);\r\n        ColourSOData[errors_in_SOData[i].row] = \"#FFB266\";\r\n      }\r\n    }\r\n    setErrorsColourSOData(ColourSOData);\r\n  }, [errors_in_custData, errors_in_SOData]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClickOpen}\r\n        style={{ marginRight: \"10px\" }}\r\n      >\r\n        Upload Invoices\r\n      </Button>\r\n      <Dialog\r\n        fullWidth={true}\r\n        maxWidth={\"xl\"}\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"max-width-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"max-width-dialog-title\">\r\n          Invoice{\" \"}\r\n          <Button\r\n            onClick={handleClose}\r\n            color=\"primary\"\r\n            style={{ float: \"right\" }}\r\n          >\r\n            Close\r\n          </Button>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Upload the file which contains the invoice data of clients\r\n            <br /> The fields below show an abstraction of your data. Please\r\n            check that it is correct before clicking on \"Send Data\" which will\r\n            store your file tables in the database.\r\n          </DialogContentText>\r\n\r\n          <div style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              component=\"label\"\r\n              title=\"the files that contain your bill, receipt and your firm's data\"\r\n            >\r\n              <input\r\n                type=\"file\"\r\n                accept=\".csv,.xlsx,.xls\"\r\n                onChange={handleFileUpload}\r\n                hidden\r\n              />\r\n              Upload File\r\n            </Button>\r\n            {fileSelected ? (\r\n              <div>\r\n                <Typography\r\n                  style={{ marginTop: \"5px\" }}\r\n                  variant=\"h5\"\r\n                  component=\"h6\"\r\n                  align=\"left\"\r\n                  gutterBottom\r\n                >\r\n                  Users Data\r\n                </Typography>\r\n                <CustomTable\r\n                  key={\"table1\"}\r\n                  data={userDataTables}\r\n                  errors={errorColourCustData}\r\n                />\r\n                <Typography\r\n                  style={{ marginTop: \"5px\" }}\r\n                  variant=\"h5\"\r\n                  component=\"h6\"\r\n                  align=\"left\"\r\n                  gutterBottom\r\n                  title=\"The files you have uploaded will now be sent to the database.\"\r\n                >\r\n                  Solution Owners Data\r\n                </Typography>\r\n                <CustomTable\r\n                  key={\"table2\"}\r\n                  data={SODataTables}\r\n                  errors={errorsColourSOData}\r\n                />\r\n\r\n                {fileCorrect ? (\r\n                  false\r\n                ) : (\r\n                  <div>\r\n                    {errors_in_custData ? (\r\n                      <React.Fragment>\r\n                        <p>\r\n                          <b>Errors Found in cust_data sheet:</b>\r\n                        </p>\r\n\r\n                        {errors_in_custData.length\r\n                          ? errors_in_custData.map((item) => (\r\n                              <p>\r\n                                Missing item in cloumn {item.cloumn_name} of row{\" \"}\r\n                                {item.row}\r\n                              </p>\r\n                            ))\r\n                          : \"No errors\"}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      false\r\n                    )}\r\n                    {errors_in_SOData ? (\r\n                      <React.Fragment>\r\n                        <p>\r\n                          <b>Errors Found in SO_data sheet:</b>\r\n                        </p>\r\n\r\n                        {errors_in_SOData.length\r\n                          ? errors_in_SOData.map((item) => (\r\n                              <p>\r\n                                Missing item in cloumn {item.cloumn_name} of row{\" \"}\r\n                                {item.row}\r\n                              </p>\r\n                            ))\r\n                          : \"No errors\"}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      false\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {percentage > 0 ? (\r\n                  <LinearProgress variant=\"determinate\" value={percentage} />\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {fileSelected && (\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={axiosPostRequest}\r\n              disabled={fileCorrect ? false : true}\r\n            >\r\n              Send Invoices Data\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default UploadBillsData;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport * as XLSX from \"xlsx\";\r\nimport axios from \"axios\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CustomTable from \"./custom-Table\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nfunction UploadReceiptData({ token }) {\r\n  const [data_user, setData_user] = useState([]);\r\n  const [data_SO, setData_SO] = useState([]);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [data_to_be_send, setData_to_be_send] = useState({});\r\n  const [fileSelected, setFileSelected] = useState(false);\r\n  const [fileCorrect, setCorrect] = useState(false);\r\n  const [percentage, setPercentage] = useState(0);\r\n  const [confirm_NotFound, setconfirm_NotFound] = useState(false);\r\n  const [not_found_emails, setNot_found_emails] = useState([]);\r\n  const [not_found_bills, setNot_found_bills] = useState([]);\r\n  const [userDataTables, setUserDataTables] = useState([]);\r\n  const [SODataTables, setSODataTables] = useState([]);\r\n  const [errors_in_custData, setErrors_in_custData] = useState([]);\r\n  const [errors_in_SOData, setErrors_in_SOData] = useState([]);\r\n  const [errorColourCustData, setErrorColourCustData] = useState({});\r\n  const [errorsColourSOData, setErrorsColourSOData] = useState({});\r\n  const [bigError, setBigError] = useState(false);\r\n  const scrollRef = React.useRef(null);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  // process XLSX data\r\n  const parseExcel = (fileData) => {\r\n    const workbook = XLSX.read(fileData, {\r\n      type: \"binary\",\r\n      cellDates: true,\r\n      cellNF: false,\r\n      cellText: false,\r\n    });\r\n    let data = {};\r\n    workbook.SheetNames.forEach(function (sheetName) {\r\n      const XL_row_object = XLSX.utils.sheet_to_row_object_array(\r\n        workbook.Sheets[sheetName]\r\n      );\r\n      console.log(\"sheetNames\", workbook.SheetNames);\r\n      data[sheetName] = XL_row_object;\r\n    });\r\n    setData_user(data[\"cust_data\"]);\r\n    setData_SO(data[\"solutions_owner_data\"]);\r\n    setData_to_be_send(data);\r\n    setFileSelected(true);\r\n  };\r\n\r\n  const axiosPostRequest = () => {\r\n    const options = {\r\n      headers: {\r\n        token: token,\r\n      },\r\n      onUploadProgress: (progessEvent) => {\r\n        const { loaded, total } = progessEvent;\r\n        let precent = Math.floor((loaded * 100) / total);\r\n        if (precent < 100) {\r\n          setPercentage(precent);\r\n        }\r\n      },\r\n    };\r\n    if (bigError) {\r\n      window.alert(\r\n        \"There is some error in the file uploaded. Please fix it to upload the file\"\r\n      );\r\n    } else {\r\n      axios\r\n        .post(\r\n          `http://${window.location.host}/invoices/uploadReceiptsData`,\r\n\r\n          data_to_be_send,\r\n          options\r\n        )\r\n        .then((res) => {\r\n          setPercentage(100);\r\n          setTimeout(() => {\r\n            setPercentage(0);\r\n          }, 1000);\r\n          console.log(res);\r\n          window.alert(res.data.message);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          window.alert(\"some error occured please check console\");\r\n        });\r\n    }\r\n  };\r\n  //confrim user data\r\n  const confirmRequest = () => {\r\n    const options = {\r\n      headers: {\r\n        token: token,\r\n      },\r\n      onUploadProgress: (progessEvent) => {\r\n        const { loaded, total } = progessEvent;\r\n        let precent = Math.floor((loaded * 100) / total);\r\n        if (precent < 100) {\r\n          setPercentage(precent);\r\n        }\r\n      },\r\n    };\r\n    axios\r\n      .post(\r\n        `http://${window.location.host}/invoices/confrimReceiptsUpload`,\r\n        data_to_be_send,\r\n        options\r\n      )\r\n      .then((res) => {\r\n        setPercentage(100);\r\n        setTimeout(() => {\r\n          setPercentage(0);\r\n        }, 1000);\r\n        console.log(res.data);\r\n        if (res.data.missing) {\r\n          setNot_found_emails(res.data.not_found.emails);\r\n          setNot_found_bills(res.data.not_found.bills);\r\n        }\r\n        setconfirm_NotFound(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        window.alert(\"some error occured please check console\");\r\n      });\r\n  };\r\n  // handle file upload\r\n  const sendUploadedFile = (file) => {\r\n    const reader = new FileReader();\r\n    reader.onload = (evt) => {\r\n      /* get binary string */\r\n      const bstr = evt.target.result;\r\n\r\n      parseExcel(bstr);\r\n    };\r\n    reader.readAsBinaryString(file);\r\n  };\r\n\r\n  const handleFileUpload = (e) => {\r\n    sendUploadedFile(e.target.files[0]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"data of users\", data_user);\r\n    console.log(\"data of so\", data_SO);\r\n    console.log(\"data in total\", data_to_be_send);\r\n  }, [data_user, data_SO, data_to_be_send]);\r\n\r\n  //check data in file\r\n  useEffect(() => {\r\n    let noErrors = true;\r\n    if (fileSelected) {\r\n      if (data_user.length) {\r\n        let errors = [];\r\n        const cloumn_name = [\r\n          \"cust_id\",\r\n          \"cust_tax_id\",\r\n          \"cust_pan\",\r\n          \"cust_firm\",\r\n          \"cust_keyman\",\r\n          \"cust_email\",\r\n          \"cust_ph_isd\",\r\n          \"cust_ph_num\",\r\n          \"cust_add_cntry\",\r\n          \"cust_add_zip\",\r\n          \"cust_add_state\",\r\n          \"cust_add_city\",\r\n          \"cust_add_landmark\",\r\n          \"cust_add_street\",\r\n          \"invoice_dt\",\r\n          \"invoice_num\",\r\n          \"invoice_currency\",\r\n          \"invoice_amt\",\r\n          \"discount\",\r\n          \"email_dt\",\r\n          \"desc\",\r\n          \"TDS\",\r\n          \"GST\",\r\n          \"due_date\",\r\n          \"reminder_1\",\r\n          \"reminder_2\",\r\n          \"final_bal_due\",\r\n          \"recurring\",\r\n          \"Frequency\",\r\n          \"email_dt\",\r\n          \"paid\",\r\n          \"nonSystem_payment_method\",\r\n          \"Shown_in_System_Fag\",\r\n          \"nonSystem_payment_date\",\r\n          \"nonSystem_payment_amt\",\r\n        ];\r\n        for (let i = 0; i < data_user.length; i++) {\r\n          let temp_cloumn_name = [];\r\n          //check empty valule\r\n          for (const [key, value] of Object.entries(data_user[i])) {\r\n            temp_cloumn_name.push(key);\r\n            if (!value) {\r\n              if (value !== 0) {\r\n                noErrors = false;\r\n                errors.push({\r\n                  row: i,\r\n                  cloumn_name: key,\r\n                });\r\n              }\r\n            }\r\n          }\r\n          //check missing key\r\n          for (let j = 0; j < cloumn_name.length; j++) {\r\n            let found_in_temp = false;\r\n            for (let k = 0; k < temp_cloumn_name.length; k++) {\r\n              if (temp_cloumn_name[k] === cloumn_name[j]) {\r\n                found_in_temp = true;\r\n              }\r\n            }\r\n            if (!found_in_temp) {\r\n              noErrors = false;\r\n              errors.push({\r\n                row: i,\r\n                cloumn_name: cloumn_name[j],\r\n              });\r\n            }\r\n          }\r\n        }\r\n        setErrors_in_custData(errors);\r\n      }\r\n      if (data_SO.length) {\r\n        let errors = [];\r\n        const cloumn_name = [\r\n          \"so_keyman\",\r\n          \"so_keyman_title\",\r\n          \"so_email\",\r\n          \"so_position\",\r\n          \"so_ph_isd\",\r\n          \"so_ph_num\",\r\n          \"so_add_cntry\",\r\n          \"so_add_zip\",\r\n          \"so_add_state\",\r\n          \"so_add_city\",\r\n          \"so_add_street\",\r\n          \"so_firm\",\r\n          \"so_firm_email\",\r\n          \"so_firm_acc_name\",\r\n          \"so_firm_acc_num\",\r\n          \"so_firm_ifsc\",\r\n          \"so_firm_swift\",\r\n          \"so_firm_ph_isd\",\r\n          \"so_firm_ph_num\",\r\n          \"so_firm_add_cntry\",\r\n          \"so_firm_add_zip\",\r\n          \"so_firm_add_state\",\r\n          \"so_firm_add_city\",\r\n\r\n          \"so_firm_add_street\",\r\n        ];\r\n        for (let i = 0; i < data_SO.length; i++) {\r\n          let temp_cloumn_name = [];\r\n          //check empty valule\r\n          for (const [key, value] of Object.entries(data_SO[i])) {\r\n            temp_cloumn_name.push(key);\r\n            if (!value) {\r\n              if (value !== 0) {\r\n                noErrors = false;\r\n                errors.push({ row: i, cloumn_name: key });\r\n              }\r\n            }\r\n          }\r\n          //check missing key\r\n          for (let j = 0; j < cloumn_name.length; j++) {\r\n            let found_in_temp = false;\r\n            for (let k = 0; k < temp_cloumn_name.length; k++) {\r\n              if (temp_cloumn_name[k] === cloumn_name[j]) {\r\n                found_in_temp = true;\r\n              }\r\n            }\r\n            if (!found_in_temp) {\r\n              noErrors = false;\r\n              errors.push({\r\n                row: i,\r\n                cloumn_name: cloumn_name[j],\r\n              });\r\n            }\r\n          }\r\n        }\r\n        setErrors_in_SOData(errors);\r\n      }\r\n      if (noErrors) {\r\n        setCorrect(true);\r\n      } else {\r\n        window.alert(\"Missing Data in user data sheet. Fix it to send file\");\r\n      }\r\n    }\r\n  }, [fileSelected, data_SO, data_user]);\r\n\r\n  //format data for tables\r\n  useEffect(() => {\r\n    let userData_tables = [];\r\n    let SOData_tables = [];\r\n    for (let i = 0; i < data_user.length; i++) {\r\n      let one_user = {};\r\n      for (const [key, value] of Object.entries(data_user[i])) {\r\n        if (\r\n          key === \"invoice_dt\" ||\r\n          key === \"cust_tax_id\" ||\r\n          key === \"cust_keyman\" ||\r\n          key === \"cust_email\" ||\r\n          key === \"cust_firm\" ||\r\n          key === \"invoice_num\" ||\r\n          key === \"invoice_currency\" ||\r\n          key === \"email_dt\" ||\r\n          key === \"final_bal_due\"\r\n        ) {\r\n          if (key === \"final_bal_due\") {\r\n            one_user[key] = parseFloat(value);\r\n          } else if (\r\n            key === \"email_dt\" ||\r\n            key === \"invoice_dt\" ||\r\n            key === \"due_date\"\r\n          ) {\r\n            const date = new Date(value);\r\n            one_user[key] = date.toDateString();\r\n          } else {\r\n            one_user[key] = value;\r\n          }\r\n        }\r\n      }\r\n      userData_tables.push(one_user);\r\n    }\r\n    for (let i = 0; i < data_SO.length; i++) {\r\n      let one_user = {};\r\n      for (const [key, value] of Object.entries(data_SO[i])) {\r\n        if (\r\n          key === \"so_keyman\" ||\r\n          key === \"so_email\" ||\r\n          key === \"so_firm_email\" ||\r\n          key === \"so_firm_email\" ||\r\n          key === \"so_firm_acc_name\" ||\r\n          key === \"so_firm_acc_num\" ||\r\n          key === \"so_firm_ifsc\" ||\r\n          key === \"so_firm_swift\"\r\n        ) {\r\n          one_user[key] = value;\r\n        }\r\n      }\r\n      SOData_tables.push(one_user);\r\n    }\r\n    setUserDataTables(userData_tables);\r\n    setSODataTables(SOData_tables);\r\n  }, [data_SO, data_user]);\r\n\r\n  //colour the rows\r\n  useEffect(() => {\r\n    let ColourCustData = {};\r\n    for (let i = 0; i < errors_in_custData.length; i++) {\r\n      const orangeWarning = [];\r\n      const redWarning = [\r\n        \"invoice_dt\",\r\n        \"cust_tax_id\",\r\n        \"cust_keyman\",\r\n        \"cust_email\",\r\n        \"cust_firm\",\r\n        \"invoice_num\",\r\n        \"invoice_currency\",\r\n        \"email_dt\",\r\n        \"final_bal_due\",\r\n      ];\r\n\r\n      if (orangeWarning.includes(errors_in_custData[i].cloumn_name)) {\r\n        ColourCustData[errors_in_custData[i].row] = \"#FF6666\";\r\n      }\r\n      if (redWarning.includes(errors_in_custData[i].cloumn_name)) {\r\n        setBigError(true);\r\n        ColourCustData[errors_in_custData[i].row] = \"#FFB266\";\r\n      }\r\n    }\r\n    setErrorColourCustData(ColourCustData);\r\n\r\n    //colour so data\r\n    let ColourSOData = {};\r\n    for (let i = 0; i < errors_in_SOData.length; i++) {\r\n      const orangeWarning = [];\r\n      const redWarning = [\r\n        \"so_firm_acc_name\",\r\n        \"so_firm_acc_num\",\r\n        \"so_firm_ifsc\",\r\n        \"so_firm_swift\",\r\n      ];\r\n\r\n      if (orangeWarning.includes(errors_in_SOData[i].cloumn_name)) {\r\n        ColourSOData[errors_in_SOData[i].row] = \"#FF6666\";\r\n      }\r\n      if (redWarning.includes(errors_in_SOData[i].cloumn_name)) {\r\n        setBigError(true);\r\n        ColourSOData[errors_in_SOData[i].row] = \"#FFB266\";\r\n      }\r\n    }\r\n    setErrorsColourSOData(ColourSOData);\r\n  }, [errors_in_custData, errors_in_SOData]);\r\n\r\n  //scrol to the confrim info\r\n  useEffect(() => {\r\n    if (scrollRef.current) {\r\n      scrollRef.current.scrollIntoView({ behaviour: \"smooth\" });\r\n    }\r\n  }, [confirm_NotFound]);\r\n  return (\r\n    <React.Fragment>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClickOpen}\r\n        style={{ marginRight: \"10px\" }}\r\n      >\r\n        Upload Receipts\r\n      </Button>\r\n      <Dialog\r\n        fullWidth={true}\r\n        maxWidth={\"xl\"}\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"max-width-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"max-width-dialog-title\">\r\n          Receipts\r\n          <Button\r\n            onClick={handleClose}\r\n            color=\"primary\"\r\n            style={{ float: \"right\" }}\r\n          >\r\n            Close\r\n          </Button>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Enter the receipt data here ONLY against invoices for which payment\r\n            was received outside this system such as cash, a paper-based check,\r\n            etc.\r\n            <br /> The fields below show an abstraction of your data. Please\r\n            check that it is correct before clicking on \"Send Data\" which will\r\n            store your file tables in the database.\r\n          </DialogContentText>\r\n          <div style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\r\n            <Button variant=\"contained\" color=\"primary\" component=\"label\">\r\n              <input\r\n                type=\"file\"\r\n                accept=\".csv,.xlsx,.xls\"\r\n                onChange={handleFileUpload}\r\n                hidden\r\n              />\r\n              Upload File\r\n            </Button>\r\n            {fileSelected && (\r\n              <div>\r\n                <Typography\r\n                  style={{ marginTop: \"5px\" }}\r\n                  variant=\"h5\"\r\n                  component=\"h6\"\r\n                  align=\"center\"\r\n                  gutterBottom\r\n                >\r\n                  Users Data :\r\n                </Typography>\r\n                <CustomTable\r\n                  key={\"table1\"}\r\n                  data={userDataTables}\r\n                  errors={errorColourCustData}\r\n                />\r\n                <Typography\r\n                  style={{ marginTop: \"5px\" }}\r\n                  variant=\"h5\"\r\n                  component=\"h6\"\r\n                  align=\"center\"\r\n                  gutterBottom\r\n                >\r\n                  Solution Owners Data :\r\n                </Typography>\r\n                <CustomTable\r\n                  key={\"table2\"}\r\n                  data={SODataTables}\r\n                  errors={errorsColourSOData}\r\n                />\r\n\r\n                {fileCorrect ? (\r\n                  false\r\n                ) : (\r\n                  <div>\r\n                    {errors_in_custData && (\r\n                      <React.Fragment>\r\n                        <p>\r\n                          <b>Errors Found in cust_data sheet:</b>\r\n                        </p>\r\n\r\n                        {errors_in_custData.length\r\n                          ? errors_in_custData.map((item) => (\r\n                              <p>\r\n                                Missing item in cloumn {item.cloumn_name} of row{\" \"}\r\n                                {item.row}\r\n                              </p>\r\n                            ))\r\n                          : \"No errors\"}\r\n                      </React.Fragment>\r\n                    )}\r\n                    {errors_in_SOData && (\r\n                      <React.Fragment>\r\n                        <p>\r\n                          <b>Errors Found in SO_data sheet:</b>\r\n                        </p>\r\n\r\n                        {errors_in_SOData.length\r\n                          ? errors_in_SOData.map((item) => (\r\n                              <p>\r\n                                Missing item in cloumn {item.cloumn_name} of row{\" \"}\r\n                                {item.row}\r\n                              </p>\r\n                            ))\r\n                          : \"No errors\"}\r\n                      </React.Fragment>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                {confirm_NotFound && (\r\n                  <div ref={scrollRef} style={{ marginTop: \"10px\" }}>\r\n                    {not_found_emails.length ? (\r\n                      <div>\r\n                        <p>\r\n                          <b>Emails Not Found:</b>\r\n                        </p>\r\n                        {not_found_emails.map((item, index) => (\r\n                          <p key={index}>{item}</p>\r\n                        ))}\r\n                      </div>\r\n                    ) : (\r\n                      <p>\r\n                        <b>All emails found</b>\r\n                      </p>\r\n                    )}\r\n\r\n                    {not_found_bills.length ? (\r\n                      <div>\r\n                        <p>\r\n                          <b>Bills Not Found:</b>\r\n                        </p>\r\n                        {not_found_bills.map((item, index) => (\r\n                          <p key={index}>{item}</p>\r\n                        ))}\r\n                      </div>\r\n                    ) : (\r\n                      <p>\r\n                        {\" \"}\r\n                        <b>All bills found</b>\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {percentage > 0 && (\r\n                  <LinearProgress variant=\"determinate\" value={percentage} />\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {fileSelected && (\r\n            <React.Fragment>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={confirmRequest}\r\n                disabled={fileCorrect ? false : true}\r\n                style={{ display: confirm_NotFound ? \"none\" : \"block\" }}\r\n              >\r\n                Send Receipts Data\r\n              </Button>\r\n              {confirm_NotFound && (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={axiosPostRequest}\r\n                >\r\n                  Confrim and Submit\r\n                </Button>\r\n              )}\r\n            </React.Fragment>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default UploadReceiptData;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport * as XLSX from \"xlsx\";\r\nimport axios from \"axios\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CustomTable from \"./custom-Table\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nfunction UploadUserData({ token }) {\r\n  const [data_user, setData_user] = useState([]);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [data_to_be_send, setData_to_be_send] = useState({});\r\n  const [fileSelected, setFileSelected] = useState(false);\r\n  const [fileCorrect, setCorrect] = useState(false);\r\n  const [percentage, setPercentage] = useState(0);\r\n  const [userDataTables, setUserDataTables] = useState([]);\r\n  const [errors_in_custData, setErrors_in_custData] = useState([]);\r\n  const [errorColourCustData, setErrorColourCustData] = useState({});\r\n  const [bigError, setBigError] = useState(false);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  // process XLSX data\r\n  const parseExcel = (fileData) => {\r\n    const workbook = XLSX.read(fileData, {\r\n      type: \"binary\",\r\n      cellDates: true,\r\n      cellNF: false,\r\n      cellText: false,\r\n    });\r\n    let data = {};\r\n    workbook.SheetNames.forEach(function (sheetName) {\r\n      const XL_row_object = XLSX.utils.sheet_to_row_object_array(\r\n        workbook.Sheets[sheetName]\r\n      );\r\n      console.log(\"sheetNames\", workbook.SheetNames);\r\n      data[sheetName] = XL_row_object;\r\n    });\r\n    setData_user(data[\"cust_data\"]);\r\n    setData_to_be_send(data);\r\n    setFileSelected(true);\r\n  };\r\n\r\n  const axiosPostRequest = () => {\r\n    const options = {\r\n      headers: {\r\n        token: token,\r\n      },\r\n      onUploadProgress: (progessEvent) => {\r\n        const { loaded, total } = progessEvent;\r\n        let precent = Math.floor((loaded * 100) / total);\r\n        if (precent < 100) {\r\n          setPercentage(precent);\r\n        }\r\n      },\r\n    };\r\n    if (bigError) {\r\n      window.alert(\r\n        \"There is some error in the file uploaded. Please fix it to upload the file\"\r\n      );\r\n    } else {\r\n      axios\r\n        .post(\r\n          `http://${window.location.host}/users/uploadUsers`,\r\n          data_to_be_send,\r\n          options\r\n        )\r\n        .then((res) => {\r\n          setPercentage(100);\r\n          setTimeout(() => {\r\n            setPercentage(0);\r\n          }, 1000);\r\n          console.log(res);\r\n          window.alert(res.data.message);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          window.alert(\"some error occured please check console\");\r\n        });\r\n    }\r\n  };\r\n\r\n  // handle file upload\r\n  const sendUploadedFile = (file) => {\r\n    const reader = new FileReader();\r\n    reader.onload = (evt) => {\r\n      /* get binary string */\r\n      const bstr = evt.target.result;\r\n\r\n      parseExcel(bstr);\r\n    };\r\n    reader.readAsBinaryString(file);\r\n  };\r\n\r\n  const handleFileUpload = (e) => {\r\n    sendUploadedFile(e.target.files[0]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"data of users\", data_user);\r\n    console.log(\"data in total\", data_to_be_send);\r\n  }, [data_user, data_to_be_send]);\r\n\r\n  //check data in file\r\n  useEffect(() => {\r\n    let noErrors = true;\r\n    if (fileSelected) {\r\n      if (data_user.length) {\r\n        let errors = [];\r\n        const cloumn_name = [\r\n          \"cust_id\",\r\n          \"cust_tax_id\",\r\n          \"cust_pan\",\r\n          \"cust_firm\",\r\n          \"cust_keyman\",\r\n          \"cust_email\",\r\n          \"cust_ph_isd\",\r\n          \"cust_ph_num\",\r\n          \"cust_add_cntry\",\r\n          \"cust_add_zip\",\r\n          \"cust_add_state\",\r\n          \"cust_add_city\",\r\n          \"cust_add_landmark\",\r\n          \"cust_add_street\",\r\n        ];\r\n        for (let i = 0; i < data_user.length; i++) {\r\n          let temp_cloumn_name = [];\r\n          //check empty valule\r\n          for (const [key, value] of Object.entries(data_user[i])) {\r\n            temp_cloumn_name.push(key);\r\n            if (!value) {\r\n              if (value !== 0) {\r\n                noErrors = false;\r\n                errors.push({\r\n                  row: i,\r\n                  cloumn_name: key,\r\n                });\r\n              }\r\n            }\r\n          }\r\n          //check missing key\r\n          for (let j = 0; j < cloumn_name.length; j++) {\r\n            let found_in_temp = false;\r\n            for (let k = 0; k < temp_cloumn_name.length; k++) {\r\n              if (temp_cloumn_name[k] === cloumn_name[j]) {\r\n                found_in_temp = true;\r\n              }\r\n            }\r\n            if (!found_in_temp) {\r\n              noErrors = false;\r\n              errors.push({\r\n                row: i,\r\n                cloumn_name: cloumn_name[j],\r\n              });\r\n            }\r\n          }\r\n        }\r\n        setErrors_in_custData(errors);\r\n      }\r\n\r\n      if (noErrors) {\r\n        setCorrect(true);\r\n      } else {\r\n        window.alert(\"Missing Data in user data sheet. Fix it to send file\");\r\n      }\r\n    }\r\n  }, [fileSelected, data_user]);\r\n\r\n  //format data for tables\r\n  useEffect(() => {\r\n    let userData_tables = [];\r\n\r\n    for (let i = 0; i < data_user.length; i++) {\r\n      let one_user = {};\r\n      for (const [key, value] of Object.entries(data_user[i])) {\r\n        if (\r\n          key === \"cust_tax_id\" ||\r\n          key === \"cust_keyman\" ||\r\n          key === \"cust_email\" ||\r\n          key === \"cust_firm\"\r\n        ) {\r\n          if (key === \"final_bal_due\") {\r\n            one_user[key] = Math.round(value * 100) / 100;\r\n          } else if (key === \"email_dt\" || key === \"invoice_dt\") {\r\n            const date = new Date(value);\r\n            one_user[key] = date.toDateString();\r\n          } else {\r\n            one_user[key] = value;\r\n          }\r\n        }\r\n      }\r\n      userData_tables.push(one_user);\r\n    }\r\n\r\n    setUserDataTables(userData_tables);\r\n  }, [data_user]);\r\n\r\n  //colour the rows\r\n  useEffect(() => {\r\n    let ColourCustData = {};\r\n    for (let i = 0; i < errors_in_custData.length; i++) {\r\n      const orangeWarning = [];\r\n      const redWarning = [\r\n        \"cust_tax_id\",\r\n        \"cust_keyman\",\r\n        \"cust_email\",\r\n        \"cust_firm\",\r\n      ];\r\n\r\n      if (orangeWarning.includes(errors_in_custData[i].cloumn_name)) {\r\n        ColourCustData[errors_in_custData[i].row] = \"#FF6666\";\r\n      }\r\n      if (redWarning.includes(errors_in_custData[i].cloumn_name)) {\r\n        setBigError(true);\r\n        ColourCustData[errors_in_custData[i].row] = \"#FFB266\";\r\n      }\r\n    }\r\n    setErrorColourCustData(ColourCustData);\r\n  }, [errors_in_custData]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClickOpen}\r\n        style={{ marginRight: \"10px\" }}\r\n      >\r\n        Upload Users Data\r\n      </Button>\r\n      <Dialog\r\n        fullWidth={true}\r\n        maxWidth={\"xl\"}\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"max-width-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"max-width-dialog-title\">\r\n          Receipts\r\n          <Button\r\n            onClick={handleClose}\r\n            color=\"primary\"\r\n            style={{ float: \"right\" }}\r\n          >\r\n            Close\r\n          </Button>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Upload a file which contains user data.\r\n          </DialogContentText>\r\n          <div style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\r\n            <Button variant=\"contained\" color=\"primary\" component=\"label\">\r\n              <input\r\n                type=\"file\"\r\n                accept=\".csv,.xlsx,.xls\"\r\n                onChange={handleFileUpload}\r\n                hidden\r\n              />\r\n              Upload File\r\n            </Button>\r\n            {fileSelected && (\r\n              <div>\r\n                <Typography\r\n                  style={{ marginTop: \"5px\" }}\r\n                  variant=\"h5\"\r\n                  component=\"h6\"\r\n                  align=\"center\"\r\n                  gutterBottom\r\n                >\r\n                  Users Data :\r\n                </Typography>\r\n                <CustomTable\r\n                  key={\"table1\"}\r\n                  data={userDataTables}\r\n                  errors={errorColourCustData}\r\n                />\r\n\r\n                {fileCorrect ? (\r\n                  false\r\n                ) : (\r\n                  <div>\r\n                    {errors_in_custData && (\r\n                      <React.Fragment>\r\n                        <p>\r\n                          <b>Errors Found in cust_data sheet:</b>\r\n                        </p>\r\n\r\n                        {errors_in_custData.length\r\n                          ? errors_in_custData.map((item) => (\r\n                              <p>\r\n                                Missing item in cloumn {item.cloumn_name} of row{\" \"}\r\n                                {item.row}\r\n                              </p>\r\n                            ))\r\n                          : \"No errors\"}\r\n                      </React.Fragment>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                {percentage > 0 && (\r\n                  <LinearProgress variant=\"determinate\" value={percentage} />\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {fileSelected && (\r\n            <React.Fragment>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={axiosPostRequest}\r\n                disabled={fileCorrect ? false : true}\r\n                style={{ display: !fileSelected ? \"none\" : \"block\" }}\r\n              >\r\n                Send User Data\r\n              </Button>\r\n            </React.Fragment>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default UploadUserData;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport UploadBillsData from \"../upload-bills\";\r\nimport UploadReceiptsData from \"../upload-receipts\";\r\nimport UploadUserData from \"../upload-users\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  button_menu: {\r\n    color: \"white\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function NavBarAdmin({ username, token }) {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" style={{ marginBottom: \"5px\" }}>\r\n        <Toolbar>\r\n          <IconButton\r\n            href=\"/\"\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"home\"\r\n          >\r\n            <HomeIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Payment management service\r\n          </Typography>\r\n          <div>\r\n            <UploadBillsData token={token} />\r\n            <UploadReceiptsData token={token} />\r\n            <UploadUserData token={token} />\r\n            <Button\r\n              className={classes.button_menu}\r\n              aria-controls=\"simple-menu\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleClick}\r\n            >\r\n              {username}\r\n              <span className=\"material-icons-outlined\">expand_more</span>\r\n            </Button>\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={anchorEl}\r\n              keepMounted\r\n              open={Boolean(anchorEl)}\r\n              onClose={handleClose}\r\n            >\r\n              <MenuItem\r\n                onClick={() => {\r\n                  window.location.replace(\r\n                    `http://${window.location.host}/myAccount`\r\n                  );\r\n                }}\r\n              >\r\n                My account\r\n              </MenuItem>\r\n              <MenuItem\r\n                onClick={() => {\r\n                  localStorage.removeItem(\"token\");\r\n                  window.location.replace(`http://${window.location.host}`);\r\n                }}\r\n              >\r\n                Logout\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { useEffect } from \"react\";\r\n\r\nfunction createData(\r\n  invoice,\r\n  invoice_date,\r\n  currency,\r\n  due_amount,\r\n  due_date,\r\n  amount_paid,\r\n  receipt\r\n) {\r\n  return {\r\n    invoice,\r\n    invoice_date,\r\n    currency,\r\n    due_amount,\r\n    due_date,\r\n    amount_paid,\r\n    receipt,\r\n  };\r\n}\r\n\r\n//coloumn invoices\r\nconst headCells = [\r\n  {\r\n    id: \"invoice\",\r\n    numeric: false,\r\n    date: false,\r\n    disablePadding: true,\r\n    label: \"Invoice\",\r\n  },\r\n  {\r\n    id: \"invoice_date\",\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: \"Invoice Date\",\r\n  },\r\n  { id: \"currency\", numeric: true, disablePadding: false, label: \"Currency\" },\r\n  {\r\n    id: \"due_amount\",\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: \"Due Amount\",\r\n  },\r\n  { id: \"due_date\", numeric: true, disablePadding: false, label: \"Due Date\" },\r\n\r\n  {\r\n    id: \"amount_paid\",\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: \"Amount Paid\",\r\n  },\r\n  { id: \"receipt\", numeric: true, disablePadding: false, label: \"Receipt\" },\r\n];\r\n\r\n//addd commas\r\nconst addCommas = (e) => {\r\n  let l,\r\n    t,\r\n    n = (e = e.toString()).indexOf(\".\");\r\n  if (\r\n    (n >= 0 ? ((l = e.slice(0, n)), (t = e.slice(n))) : ((l = e), (t = \"\")),\r\n    l.length > 3)\r\n  ) {\r\n    let e = l.slice(0, l.length - 3) + \",\" + l.slice(l.length - 3);\r\n    for (let l = 2; e.length - 4 - l > 0; l += 3)\r\n      e = e.slice(0, e.length - 4 - l) + \",\" + e.slice(e.length - 4 - l);\r\n    return e + t;\r\n  }\r\n  return e;\r\n};\r\n\r\n//sorting functions\r\n\r\n//for dates\r\nfunction compareDates(a, b, orderBy) {\r\n  const date2 = new Date(b[orderBy]).getTime();\r\n  const date1 = new Date(a[orderBy]).getTime();\r\n  if (date2 < date1) {\r\n    return -1;\r\n  }\r\n  if (date2 > date1) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  if (orderBy === \"invoice_date\" || orderBy === \"due_date\") {\r\n    return order === \"desc\"\r\n      ? (a, b) => compareDates(a, b, orderBy)\r\n      : (a, b) => -compareDates(a, b, orderBy);\r\n  }\r\n  return order === \"desc\"\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nfunction EnhancedTableHead({ classes, order, orderBy, onRequestSort }) {\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {headCells.map((headCell, ind) => (\r\n          <TableCell\r\n            key={headCell.id + ind}\r\n            align={headCell.numeric ? \"right\" : \"left\"}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n            style={{ paddingLeft: \"10px\" }}\r\n          >\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : \"asc\"}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              <b> {headCell.label}</b>\r\n              {orderBy === headCell.id ? (\r\n                <span className={classes.visuallyHidden}>\r\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\r\n                </span>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf([\"asc\", \"desc\"]).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: \"rect(0 0 0 0)\",\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: \"hidden\",\r\n    padding: 0,\r\n    position: \"absolute\",\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\n\r\nexport default function InvoicesTable({ rows_data, inAdmin }) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"invoice_date\");\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n  const [rows, setRows] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    setRows(\r\n      rows_data.map((receipt) => {\r\n        return createData(\r\n          receipt.bill_url ? (\r\n            <a style={{ textDecoration: \"none\" }} href={receipt.bill_url}>\r\n              {receipt.invoice_num}\r\n            </a>\r\n          ) : (\r\n            <p style={{ textDecoration: \"none\" }}>{receipt.invoice_num}</p>\r\n          ),\r\n          receipt.invoice_detials.invoice_dt,\r\n          receipt.invoice_detials.invoice_currency,\r\n          receipt.invoice_detials.final_bal_due,\r\n          receipt.invoice_detials.due_date,\r\n          receipt.invoice_detials.final_bal_due,\r\n          <a style={{ textDecoration: \"none\" }} href={receipt.receipt_url}>\r\n            {\"R_\" + receipt.invoice_num}\r\n          </a>\r\n        );\r\n      })\r\n    );\r\n  }, [rows_data]);\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === \"asc\";\r\n    setOrder(isAsc ? \"desc\" : \"asc\");\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  useEffect(\r\n    () =>\r\n      console.log(\r\n        stableSort(rows, getComparator(order, orderBy)).slice(\r\n          page * rowsPerPage,\r\n          page * rowsPerPage + rowsPerPage\r\n        )\r\n      ),\r\n    [rows, orderBy, page, rowsPerPage, order]\r\n  );\r\n\r\n  return (\r\n    <div style={{ margin: \"10px\", marginInline: \"30px\" }}>\r\n      {!inAdmin ? (\r\n        <Typography\r\n          style={{ marginTop: \"5px\" }}\r\n          variant=\"h6\"\r\n          component=\"h6\"\r\n          align=\"left\"\r\n          gutterBottom\r\n        >\r\n          <b> Paid Invoices</b>\r\n        </Typography>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <Paper className={classes.paper}>\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            size={\"small\"}\r\n            aria-label=\"enhanced table\"\r\n          >\r\n            <EnhancedTableHead\r\n              classes={classes}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onRequestSort={handleRequestSort}\r\n            />\r\n            <TableBody>\r\n              {stableSort(rows, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, index) => {\r\n                  const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                  return (\r\n                    <TableRow hover tabIndex={-1} key={index}>\r\n                      <TableCell\r\n                        component=\"th\"\r\n                        id={labelId}\r\n                        scope=\"row\"\r\n                        style={{ paddingLeft: \"10px\" }}\r\n                      >\r\n                        {row.invoice}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">{row.invoice_date}</TableCell>\r\n                      <TableCell align=\"right\">{row.currency}</TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {addCommas(row.due_amount)}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">{row.due_date}</TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {addCommas(row.amount_paid)}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">{row.receipt}</TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n            </TableBody>\r\n          </Table>\r\n          <TablePagination\r\n            rowsPerPageOptions={[5, 10, 25]}\r\n            component=\"div\"\r\n            count={rows.length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onChangePage={handleChangePage}\r\n            onChangeRowsPerPage={handleChangeRowsPerPage}\r\n          />\r\n        </TableContainer>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport PaymentIcon from \"@material-ui/icons/Payment\";\r\n\r\nconst axios = require(\"axios\");\r\n\r\nfunction loadScript(src) {\r\n  return new Promise((resolve) => {\r\n    const script = document.createElement(\"script\");\r\n    script.src = src;\r\n    script.onload = () => {\r\n      resolve(true);\r\n    };\r\n    script.onerror = () => {\r\n      resolve(false);\r\n    };\r\n    document.body.appendChild(script);\r\n  });\r\n}\r\n\r\nfunction PayBill({ token, id, bill }) {\r\n  const displayRazorpay = async () => {\r\n    const res = await loadScript(\r\n      \"https://checkout.razorpay.com/v1/checkout.js\"\r\n    );\r\n\r\n    if (!res) {\r\n      alert(\"Razorpay SDK failed to load. Are you online?\");\r\n      return;\r\n    }\r\n\r\n    axios\r\n      .get(`http://${window.location.host}/payment/razorpay/${id}`, {\r\n        headers: {\r\n          token: token,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        console.log(res.data);\r\n\r\n        const user = localStorage.getItem(\"user\");\r\n\r\n        let options = {\r\n          //enter key below\r\n          key: res.data.key,\r\n          currency: res.data.currency,\r\n          amount: res.data.amount.toString(),\r\n          order_id: res.data.id,\r\n          name: \"Pay Bill\",\r\n          description: bill.invoice_detials.desc,\r\n          image: \"https://i.ibb.co/7XDR2G9/Koyo-logo.jpg\",\r\n          handler: function (response) {\r\n            alert(\"Payment made successfully. Check mail for receipt\");\r\n          },\r\n        };\r\n        if (user) {\r\n          options.prefill = {\r\n            name: user.name,\r\n            email: user.email,\r\n            phone_number: user.cust_ph_num,\r\n          };\r\n        }\r\n        const paymentObject = new window.Razorpay(options);\r\n        paymentObject.open();\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"Some error occured in connecting to RazorPay\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Button onClick={displayRazorpay} aria-label=\"view\">\r\n      <PaymentIcon style={{ marginRight: \"5px\" }} />\r\n      Pay Bill\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default PayBill;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport PayBill from \"./payBill\";\r\nimport { useEffect } from \"react\";\r\n\r\n//addd commas\r\nconst addCommas = (e) => {\r\n  let l,\r\n    t,\r\n    n = (e = e.toString()).indexOf(\".\");\r\n  if (\r\n    (n >= 0 ? ((l = e.slice(0, n)), (t = e.slice(n))) : ((l = e), (t = \"\")),\r\n    l.length > 3)\r\n  ) {\r\n    let e = l.slice(0, l.length - 3) + \",\" + l.slice(l.length - 3);\r\n    for (let l = 2; e.length - 4 - l > 0; l += 3)\r\n      e = e.slice(0, e.length - 4 - l) + \",\" + e.slice(e.length - 4 - l);\r\n    return e + t;\r\n  }\r\n  return e;\r\n};\r\n\r\n//sorting functions\r\n\r\n//for dates\r\nfunction compareDates(a, b, orderBy) {\r\n  const date2 = new Date(b[orderBy]).getTime();\r\n  const date1 = new Date(a[orderBy]).getTime();\r\n  if (date2 < date1) {\r\n    return -1;\r\n  }\r\n  if (date2 > date1) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  if (orderBy === \"invoice_date\" || orderBy === \"due_date\") {\r\n    return order === \"desc\"\r\n      ? (a, b) => compareDates(a, b, orderBy)\r\n      : (a, b) => -compareDates(a, b, orderBy);\r\n  }\r\n  return order === \"desc\"\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: \"rect(0 0 0 0)\",\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: \"hidden\",\r\n    padding: 0,\r\n    position: \"absolute\",\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\nfunction createData(\r\n  invoice,\r\n  invoice_date,\r\n  currency,\r\n  due_amount,\r\n  due_date,\r\n  payBill\r\n) {\r\n  return {\r\n    invoice,\r\n    invoice_date,\r\n    currency,\r\n    due_amount,\r\n    due_date,\r\n    payBill,\r\n  };\r\n}\r\nexport default function UnpaidInvoice({ rows_data, token, inAdmin }) {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"invoice_date\");\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n  const [rows, setRows] = React.useState([]);\r\n\r\n  //coloumn invoices\r\n  const headCells = inAdmin\r\n    ? [\r\n        {\r\n          id: \"invoice\",\r\n          numeric: false,\r\n          date: false,\r\n          disablePadding: true,\r\n          label: \"Invoice\",\r\n        },\r\n        {\r\n          id: \"invoice_date\",\r\n          numeric: true,\r\n          disablePadding: false,\r\n          label: \"Invoice Date\",\r\n        },\r\n        {\r\n          id: \"currency\",\r\n          numeric: true,\r\n          disablePadding: false,\r\n          label: \"Currency\",\r\n        },\r\n        {\r\n          id: \"due_amount\",\r\n          numeric: true,\r\n          disablePadding: false,\r\n          label: \"Due Amount\",\r\n        },\r\n        {\r\n          id: \"due_date\",\r\n          numeric: true,\r\n          disablePadding: false,\r\n          label: \"Due Date\",\r\n        },\r\n      ]\r\n    : [\r\n        {\r\n          id: \"invoice\",\r\n          numeric: false,\r\n          date: false,\r\n          disablePadding: true,\r\n          label: \"Invoice\",\r\n        },\r\n        {\r\n          id: \"invoice_date\",\r\n          numeric: true,\r\n          disablePadding: false,\r\n          label: \"Invoice Date\",\r\n        },\r\n        {\r\n          id: \"currency\",\r\n          numeric: true,\r\n          disablePadding: false,\r\n          label: \"Currency\",\r\n        },\r\n        {\r\n          id: \"due_amount\",\r\n          numeric: true,\r\n          disablePadding: false,\r\n          label: \"Due Amount\",\r\n        },\r\n        {\r\n          id: \"due_date\",\r\n          numeric: true,\r\n          disablePadding: false,\r\n          label: \"Due Date\",\r\n        },\r\n        { id: \"pay_bill\", numeric: true, disablePadding: false, label: \"Pay\" },\r\n      ];\r\n\r\n  function EnhancedTableHead({ classes, order, orderBy, onRequestSort }) {\r\n    const createSortHandler = (property) => (event) => {\r\n      onRequestSort(event, property);\r\n    };\r\n\r\n    return (\r\n      <TableHead>\r\n        <TableRow>\r\n          {headCells.map((headCell, ind) => (\r\n            <TableCell\r\n              key={headCell.id + ind}\r\n              align={headCell.numeric ? \"right\" : \"left\"}\r\n              sortDirection={orderBy === headCell.id ? order : false}\r\n              style={{ paddingLeft: \"10px\" }}\r\n            >\r\n              <TableSortLabel\r\n                active={orderBy === headCell.id}\r\n                direction={orderBy === headCell.id ? order : \"asc\"}\r\n                onClick={createSortHandler(headCell.id)}\r\n              >\r\n                <b> {headCell.label}</b>\r\n                {orderBy === headCell.id ? (\r\n                  <span className={classes.visuallyHidden}>\r\n                    {order === \"desc\"\r\n                      ? \"sorted descending\"\r\n                      : \"sorted ascending\"}\r\n                  </span>\r\n                ) : null}\r\n              </TableSortLabel>\r\n            </TableCell>\r\n          ))}\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setRows(\r\n      rows_data.map((bill) => {\r\n        return createData(\r\n          bill.bill_url ? (\r\n            <a style={{ textDecoration: \"none\" }} href={bill.bill_url}>\r\n              {bill.invoice_num}\r\n            </a>\r\n          ) : (\r\n            <p style={{ textDecoration: \"none\" }}>{bill.invoice_num}</p>\r\n          ),\r\n          bill.invoice_detials.invoice_dt,\r\n          bill.invoice_detials.invoice_currency,\r\n          bill.invoice_detials.final_bal_due,\r\n          bill.invoice_detials.due_date,\r\n          { token: token, id: bill._id, bill: bill }\r\n        );\r\n      })\r\n    );\r\n  }, [rows_data, token]);\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === \"asc\";\r\n    setOrder(isAsc ? \"desc\" : \"asc\");\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  useEffect(\r\n    () =>\r\n      console.log(\r\n        stableSort(rows, getComparator(order, orderBy)).slice(\r\n          page * rowsPerPage,\r\n          page * rowsPerPage + rowsPerPage\r\n        )\r\n      ),\r\n    [rows, orderBy, page, rowsPerPage, order]\r\n  );\r\n\r\n  return (\r\n    <div style={{ margin: \"10px\", marginInline: \"30px\" }}>\r\n      <Paper className={classes.paper}>\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            size={\"small\"}\r\n            aria-label=\"enhanced table\"\r\n          >\r\n            <EnhancedTableHead\r\n              classes={classes}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onRequestSort={handleRequestSort}\r\n            />\r\n            <TableBody>\r\n              {stableSort(rows, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, index) => {\r\n                  const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                  return (\r\n                    <TableRow hover tabIndex={-1} key={index}>\r\n                      <TableCell\r\n                        component=\"th\"\r\n                        id={labelId}\r\n                        scope=\"row\"\r\n                        style={{ paddingLeft: \"10px\" }}\r\n                      >\r\n                        {row.invoice}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">{row.invoice_date}</TableCell>\r\n                      <TableCell align=\"right\">{row.currency}</TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {addCommas(parseFloat(row.due_amount).toFixed(2))}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">{row.due_date}</TableCell>\r\n                      {inAdmin ? (\r\n                        \"\"\r\n                      ) : (\r\n                        <TableCell align=\"right\">\r\n                          <PayBill\r\n                            token={row.payBill.token}\r\n                            id={row.payBill.id}\r\n                            bill={row.payBill.bill}\r\n                          />{\" \"}\r\n                        </TableCell>\r\n                      )}\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n            </TableBody>\r\n          </Table>\r\n          <TablePagination\r\n            rowsPerPageOptions={[5, 10, 25]}\r\n            component=\"div\"\r\n            count={rows.length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onChangePage={handleChangePage}\r\n            onChangeRowsPerPage={handleChangeRowsPerPage}\r\n          />\r\n        </TableContainer>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import { BrowserRouter } from \"react-router-dom\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport KeyboardBackspaceRoundedIcon from \"@material-ui/icons/KeyboardBackspaceRounded\";\r\nimport InvoicesTable from \"./invoices-table\";\r\nimport UnpaidInvoice from \"./unpaid-invoice\";\r\n\r\nconst addCommas = (e) => {\r\n  let l,\r\n    t,\r\n    n = (e = e.toString()).indexOf(\".\");\r\n  if (\r\n    (n >= 0 ? ((l = e.slice(0, n)), (t = e.slice(n))) : ((l = e), (t = \"\")),\r\n    l.length > 3)\r\n  ) {\r\n    let e = l.slice(0, l.length - 3) + \",\" + l.slice(l.length - 3);\r\n    for (let l = 2; e.length - 4 - l > 0; l += 3)\r\n      e = e.slice(0, e.length - 4 - l) + \",\" + e.slice(e.length - 4 - l);\r\n    return e + t;\r\n  }\r\n  return e;\r\n};\r\n\r\nconst UserReceiptsInvoices = ({ userID, token, toggleView }) => {\r\n  const [user, setUser] = useState({});\r\n  const [receipts, setReceipts] = useState([]);\r\n  const [bills, setBills] = useState([]);\r\n  const [haveBills, setHavebills] = useState(false);\r\n  const [haveReceipts, setHaveReceipts] = useState(false);\r\n  const [receiptYTD, setReceiptYTD] = useState({});\r\n  const [billYTD, setBillYTD] = useState({});\r\n  const [currenciesBill, setCurrenciesBill] = useState([]);\r\n  const [currenciesReceipt, setCurrenciesReceipt] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getReceipts();\r\n    getBills();\r\n    getReceiptsYTD();\r\n    getBillsYTD();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const getReceipts = () => {\r\n    axios\r\n      .get(\r\n        userID\r\n          ? `http://${window.location.host}/invoices/userReceipts/${userID}`\r\n          : `http://${window.location.host}/invoices/userReceipts/:id`,\r\n        {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        setUser(data.user);\r\n        setReceipts(data.receipts);\r\n        if (data.haveReceipts) {\r\n          setHaveReceipts(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"some error occured check console\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const getBills = () => {\r\n    axios\r\n      .get(\r\n        userID\r\n          ? `http://${window.location.host}/invoices/userBills/${userID}`\r\n          : `http://${window.location.host}/invoices/userBills/:id`,\r\n        {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        setBills(data.bills);\r\n        if (data.haveBills) {\r\n          setHavebills(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"some error occured check console\");\r\n        console.log(err);\r\n      });\r\n  };\r\n  const getReceiptsYTD = () => {\r\n    axios\r\n      .get(\r\n        userID\r\n          ? `http://${window.location.host}/invoices/userReceiptsYTD/${userID}`\r\n          : `http://${window.location.host}/invoices/userReceiptsYTD/:id`,\r\n        {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        if (data.user) setUser(data.user);\r\n        if (data.total) setReceiptYTD(data.total);\r\n        if (data.currencies) setCurrenciesReceipt(data.currencies);\r\n        if (data.message) window.alert(data.message);\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"some error occured check console\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const getBillsYTD = () => {\r\n    axios\r\n      .get(\r\n        userID\r\n          ? `http://${window.location.host}/invoices/userBillsYTD/${userID}`\r\n          : `http://${window.location.host}/invoices/userBillsYTD/:id`,\r\n        {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        if (data.user) setUser(data.user);\r\n        if (data.total) setBillYTD(data.total);\r\n        if (data.currencies) setCurrenciesBill(data.currencies);\r\n        if (data.message) window.alert(data.message);\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"some error occured check console\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Typography\r\n        style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n        variant=\"body1\"\r\n        component=\"h2\"\r\n        align=\"left\"\r\n        gutterBottom\r\n      >\r\n        <b>Invoice Total:</b>{\" \"}\r\n        {currenciesBill.length\r\n          ? currenciesBill.map((item) => (\r\n              <Typography\r\n                style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n                variant=\"body1\"\r\n                component=\"h2\"\r\n                align=\"left\"\r\n                gutterBottom\r\n              >\r\n                {item} : {item + \" \" + addCommas(billYTD[item].toFixed(2))}\r\n              </Typography>\r\n            ))\r\n          : 0}\r\n      </Typography>\r\n      <Typography\r\n        style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n        variant=\"body1\"\r\n        component=\"h2\"\r\n        align=\"left\"\r\n        gutterBottom\r\n      >\r\n        <b>YTD Total Paid:</b>{\" \"}\r\n        {currenciesReceipt.length\r\n          ? currenciesReceipt.map((item) => (\r\n              <Typography\r\n                style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n                variant=\"body1\"\r\n                component=\"h2\"\r\n                align=\"left\"\r\n                gutterBottom\r\n              >\r\n                {item} : {item + \" \" + addCommas(receiptYTD[item].toFixed(2))}\r\n              </Typography>\r\n            ))\r\n          : 0}\r\n      </Typography>\r\n      <Typography\r\n        style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n        variant=\"h6\"\r\n        component=\"h2\"\r\n        align=\"left\"\r\n        gutterBottom\r\n      >\r\n        <b>Pending Invoices </b> {userID && \" of :\" + user.name}\r\n      </Typography>\r\n\r\n      {haveBills ? (\r\n        <UnpaidInvoice token={token} rows_data={bills} />\r\n      ) : (\r\n        <Typography\r\n          style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n          variant=\"body1\"\r\n          component=\"h2\"\r\n          align=\"left\"\r\n          gutterBottom\r\n        >\r\n          {userID ? \"User\" : \"You\"} has no pending bills\r\n        </Typography>\r\n      )}\r\n\r\n      <Typography\r\n        style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n        variant=\"h6\"\r\n        component=\"h2\"\r\n        align=\"left\"\r\n        gutterBottom\r\n      >\r\n        <b>Paid Invoices</b> {userID && \" of :\" + user.name}\r\n      </Typography>\r\n      {haveReceipts ? (\r\n        <InvoicesTable rows_data={receipts} inAdmin={true} />\r\n      ) : (\r\n        <Typography\r\n          style={{ marginTop: \"5px\", marginLeft: \"30px\" }}\r\n          variant=\"body1\"\r\n          component=\"h2\"\r\n          align=\"left\"\r\n          gutterBottom\r\n        >\r\n          User has no receipts\r\n        </Typography>\r\n      )}\r\n\r\n      {userID && (\r\n        <Typography align=\"center\">\r\n          <Button\r\n            onClick={toggleView}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            style={{ marginRight: \"10px\" }}\r\n          >\r\n            <KeyboardBackspaceRoundedIcon style={{ fontSize: \"30px\" }} />\r\n          </Button>\r\n        </Typography>\r\n      )}\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default UserReceiptsInvoices;\r\n","import { BrowserRouter } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport UserRow from \"../components/user-table-row\";\r\nimport { Container, Typography } from \"@material-ui/core\";\r\nimport NavBarAdmin from \"../components/nav-bar/nav-bar-admin\";\r\nimport UserReceiptsInvoices from \"../components/user-receipts-invoices\";\r\n\r\nconst axios = require(\"axios\");\r\n\r\nconst Dashboard = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  const [users, setUsers] = useState([]);\r\n  const [userName, setUsername] = useState(\"\");\r\n  const [onDashboard, setOnDashboard] = useState(true);\r\n  const [fetchReciptsOf, setFetchReciptsOf] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      axios\r\n        .get(`http://${window.location.host}/users/single_user`, {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setUsername(res.data.name);\r\n        })\r\n        .catch((err) => {\r\n          window.alert(\"some error occured check console\");\r\n          console.log(err);\r\n        });\r\n\r\n      axios\r\n        .get(`http://${window.location.host}/users/all_users`, {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        })\r\n        .then(function (response) {\r\n          setUsers(response.data);\r\n        })\r\n        .catch((err) => {\r\n          window.alert(\"some error occured please check console\");\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      window.alert(\"You are not logged in\");\r\n    }\r\n  }, [token]);\r\n\r\n  const getReceipts = (userId) => {\r\n    setFetchReciptsOf(userId);\r\n    setOnDashboard(false);\r\n  };\r\n  const toggleView = () => {\r\n    setOnDashboard(true);\r\n  };\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <NavBarAdmin username={userName} token={token} />\r\n      {onDashboard ? (\r\n        <div>\r\n          <Typography\r\n            style={{ marginTop: \"5px\" }}\r\n            variant=\"h5\"\r\n            component=\"h2\"\r\n            align=\"center\"\r\n            gutterBottom\r\n          >\r\n            Admin Dashboard\r\n          </Typography>\r\n          <Container>\r\n            <Box\r\n              style={{\r\n                overflow: \"auto\",\r\n                margin: \"7px\",\r\n                marginTop: 0,\r\n                border: \"1.5px solid rgb(243, 243, 243)\",\r\n                borderBottom: 0,\r\n              }}\r\n            >\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>\r\n                      <b>User Name</b>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <b>Email</b>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <b>Approval</b>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <b>Role</b>\r\n                    </TableCell>\r\n                    <TableCell style={{ textAlign: \"center\" }}>\r\n                      <b>Payments</b>\r\n                    </TableCell>\r\n                    <TableCell style={{ textAlign: \"center\" }}>\r\n                      <b>Delete User</b>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {users.map((user) => (\r\n                    <UserRow\r\n                      token={token}\r\n                      key={user._id}\r\n                      user={user}\r\n                      getReceipts={getReceipts}\r\n                    />\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </Box>\r\n          </Container>\r\n        </div>\r\n      ) : (\r\n        <UserReceiptsInvoices\r\n          userID={fetchReciptsOf}\r\n          token={token}\r\n          toggleView={toggleView}\r\n        />\r\n      )}\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import {\r\n  Grid,\r\n  Paper,\r\n  Avatar,\r\n  TextField,\r\n  Button,\r\n  Typography,\r\n  Link,\r\n} from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst Login = () => {\r\n  const paperStyle = {\r\n    padding: 20,\r\n    width: 280,\r\n    margin: \"20px auto\",\r\n  };\r\n  const avatarStyle = { backgroundColor: \"rgb(63, 81, 181)\" };\r\n  const btnstyle = { margin: \"8px 0\", marginTop: \"45px\" };\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const postLogin = () => {\r\n    axios\r\n      .post(`http://${window.location.host}/users/login`, {\r\n        email: email,\r\n        password: password,\r\n      })\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        if (data.status === 400) {\r\n          console.log(data);\r\n          window.alert(data.message);\r\n        } else {\r\n          localStorage.setItem(\"token\", data.token);\r\n          localStorage.setItem(\"user\", data.user);\r\n          if (data.user.isAdmin) {\r\n            window.location.replace(`http://${window.location.host}/dashboard`);\r\n          } else {\r\n            if (data.user.approved) {\r\n              window.location.replace(\r\n                `http://${window.location.host}/userPage`\r\n              );\r\n            } else {\r\n              window.location.replace(\r\n                `http://${window.location.host}/unapproved`\r\n              );\r\n            }\r\n          }\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"some error occured please check console\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Grid>\r\n      <Paper elevation={10} style={paperStyle}>\r\n        <Grid align=\"center\">\r\n          <Avatar style={avatarStyle}>\r\n            <LockOutlinedIcon style={{ backgroundColor: \"rgb(51, 70, 176)\" }} />\r\n          </Avatar>\r\n          <h2 style={{ marginTop: \"20px\" }}>Login</h2>\r\n        </Grid>\r\n        <TextField\r\n          label=\"Email\"\r\n          placeholder=\"Enter Email\"\r\n          fullWidth\r\n          required\r\n          value={email}\r\n          style={{ marginTop: \"20px\" }}\r\n          onChange={(event) => {\r\n            setEmail(event.target.value);\r\n          }}\r\n        />\r\n        <TextField\r\n          label=\"Password\"\r\n          placeholder=\"Enter password\"\r\n          type=\"password\"\r\n          fullWidth\r\n          required\r\n          style={{ marginTop: \"7px\" }}\r\n          value={password}\r\n          onChange={(event) => {\r\n            setPassword(event.target.value);\r\n          }}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          style={btnstyle}\r\n          fullWidth\r\n          onClick={postLogin}\r\n        >\r\n          Log in\r\n        </Button>\r\n        <Typography style={{ marginTop: \"5px\" }}>\r\n          {\" \"}\r\n          New here? <Link href=\"/register\">Register</Link>\r\n        </Typography>\r\n        <Typography>\r\n          {\" \"}\r\n          Forgot password? <Link href=\"/forgotPassword\">Click here</Link>\r\n        </Typography>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import {\r\n  Grid,\r\n  Paper,\r\n  Avatar,\r\n  TextField,\r\n  Button,\r\n  Typography,\r\n  Link,\r\n} from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst Register = () => {\r\n  const paperStyle = {\r\n    padding: 20,\r\n    width: 280,\r\n    margin: \"20px auto\",\r\n  };\r\n  const avatarStyle = { backgroundColor: \"rgb(63, 81, 181)\" };\r\n  const btnstyle = { margin: \"8px 0\", marginTop: \"50px\" };\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confrimPassword, setConfrimPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  const postRegister = () => {\r\n    if (password.length < 6) {\r\n      window.alert(\"Password length should be more than 6\");\r\n    } else {\r\n      if (confrimPassword === password && name.length && email.length) {\r\n        axios\r\n          .post(`http://${window.location.host}/users/register`, {\r\n            name: name,\r\n            email: email,\r\n            password: password,\r\n          })\r\n          .then((res) => {\r\n            if (res.data.status === 200) {\r\n              window.alert(\"Registered sucessfully\");\r\n              window.alert(res.data.message);\r\n              window.location.replace(`http://${window.location.host}/login`);\r\n            } else if (res.data.status === 400) {\r\n              if (res.data.message) {\r\n                window.alert(res.data.message);\r\n                window.location.reload();\r\n              }\r\n            } else {\r\n              window.alert(\"Some error occured. check console.\");\r\n              console.log(res.data);\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            window.alert(\"some error occured please check console\");\r\n            console.log(err);\r\n          });\r\n      } else {\r\n        window.alert(\"Passwords don't match\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Grid>\r\n        <Paper elevation={10} style={paperStyle}>\r\n          <Grid align=\"center\">\r\n            <Avatar style={avatarStyle}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <h2 style={{ marginTop: \"20px\" }}>Register</h2>\r\n          </Grid>\r\n          <TextField\r\n            label=\"Name\"\r\n            placeholder=\"Enter Name\"\r\n            fullWidth\r\n            required\r\n            value={name}\r\n            style={{ marginTop: \"15px\" }}\r\n            onChange={(event) => {\r\n              setName(event.target.value);\r\n            }}\r\n          />\r\n          <TextField\r\n            label=\"Email\"\r\n            placeholder=\"Enter Email\"\r\n            fullWidth\r\n            required\r\n            value={email}\r\n            onChange={(event) => {\r\n              setEmail(event.target.value);\r\n            }}\r\n          />\r\n          <TextField\r\n            label=\"Password\"\r\n            placeholder=\"Enter password\"\r\n            type=\"password\"\r\n            fullWidth\r\n            required\r\n            value={password}\r\n            onChange={(event) => {\r\n              setPassword(event.target.value);\r\n            }}\r\n          />\r\n          <TextField\r\n            label=\"Confrim password\"\r\n            placeholder=\"Re-enter password\"\r\n            type=\"password\"\r\n            fullWidth\r\n            required\r\n            value={confrimPassword}\r\n            onChange={(event) => {\r\n              setConfrimPassword(event.target.value);\r\n            }}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            style={btnstyle}\r\n            fullWidth\r\n            onClick={postRegister}\r\n          >\r\n            Register\r\n          </Button>\r\n          <Typography style={{ marginTop: \"5px\" }}>\r\n            {\" \"}\r\n            Have an account?<Link href=\"/login\"> Login</Link>\r\n          </Typography>\r\n        </Paper>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  login: {\r\n    margin: \"50px\",\r\n  },\r\n  register: {\r\n    margin: \"0 50px\",\r\n  },\r\n});\r\n\r\nconst LoginRegister = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Container className={classes.container} maxWidth=\"xs\">\r\n        <Button\r\n          className={classes.login}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          href=\"/login\"\r\n        >\r\n          Login\r\n        </Button>\r\n        <Button\r\n          className={classes.register}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          href=\"/register\"\r\n        >\r\n          Register\r\n        </Button>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default LoginRegister;\r\n","const NotFound = () => {\r\n  return <h1>not found</h1>;\r\n};\r\n\r\nexport default NotFound;\r\n","import { BrowserRouter } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  button_menu: {\r\n    color: \"white\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst Unapproved = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\" style={{ marginBottom: \"5px\" }}>\r\n          <Toolbar>\r\n            <IconButton\r\n              href=\"/\"\r\n              edge=\"start\"\r\n              className={classes.menuButton}\r\n              color=\"inherit\"\r\n              aria-label=\"home\"\r\n            >\r\n              <HomeIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Payment Management Service\r\n            </Typography>\r\n            <div>\r\n              <Button\r\n                className={classes.button_menu}\r\n                aria-controls=\"simple-menu\"\r\n                aria-haspopup=\"true\"\r\n                href=\"/login\"\r\n              >\r\n                Log In\r\n              </Button>\r\n            </div>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n      <Typography\r\n        style={{ marginTop: \"5px\" }}\r\n        variant=\"h5\"\r\n        component=\"h2\"\r\n        align=\"center\"\r\n        gutterBottom\r\n      >\r\n        You are not approved by the admin\r\n      </Typography>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Unapproved;\r\n","import Button from \"@material-ui/core/Button\";\r\n\r\nconst ResetPassword = ({ token }) => {\r\n  const goToResetPage = () => {\r\n    window.location.replace(\r\n      `http://${window.location.host}/resetPassword/${token}`\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      style={{ margin: 20 }}\r\n      variant=\"contained\"\r\n      color=\"primary\"\r\n      onClick={goToResetPage}\r\n    >\r\n      Reset Password\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport ResetPassword from \"../reset-password\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  button_menu: {\r\n    color: \"white\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function NavBarUser({ username, token }) {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" style={{ marginBottom: \"5px\" }}>\r\n        <Toolbar>\r\n          <IconButton\r\n            href=\"/\"\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"home\"\r\n          >\r\n            <HomeIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Payment management service\r\n          </Typography>\r\n          <div>\r\n            <ResetPassword token={token} />\r\n            <Button\r\n              className={classes.button_menu}\r\n              aria-controls=\"simple-menu\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleClick}\r\n            >\r\n              {username}\r\n              <span className=\"material-icons-outlined\">expand_more</span>\r\n            </Button>\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={anchorEl}\r\n              keepMounted\r\n              open={Boolean(anchorEl)}\r\n              onClose={handleClose}\r\n            >\r\n              <MenuItem\r\n                onClick={() => {\r\n                  localStorage.removeItem(\"token\");\r\n                  window.location.replace(`http://${window.location.host}`);\r\n                }}\r\n              >\r\n                Logout\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import NavBarUser from \"../components/nav-bar/nav-bar-user\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport UserReceiptsInvoices from \"../components/user-receipts-invoices\";\r\n\r\nconst axios = require(\"axios\");\r\nconst UserPage = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  const [user, setUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      axios\r\n        .get(`http://${window.location.host}/users/single_user`, {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setUser(res.data);\r\n        })\r\n        .catch((err) => {\r\n          window.alert(\"some error occured please check console\");\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      window.alert(\"You are not logged in\");\r\n    }\r\n  }, [token]);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <NavBarUser username={user.name} token={token} />\r\n      <UserReceiptsInvoices token={token} />\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default UserPage;\r\n","import { Grid, Paper, Avatar, TextField, Button } from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst ResetPassword = ({\r\n  match: {\r\n    params: { token },\r\n  },\r\n}) => {\r\n  const paperStyle = {\r\n    padding: 20,\r\n    height: \"70vh\",\r\n    width: 280,\r\n    margin: \"20px auto\",\r\n  };\r\n  const avatarStyle = { backgroundColor: \"rgb(51, 70, 176)\" };\r\n  const btnstyle = { margin: \"8px 0\", marginTop: \"68px\" };\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const postNewPassword = () => {\r\n    if (password.length < 6) {\r\n      window.alert(\"Password should be more than 6\");\r\n    } else {\r\n      axios\r\n        .put(\r\n          `http://${window.location.host}/users/changePassword`,\r\n          {\r\n            password: password,\r\n          },\r\n          {\r\n            headers: {\r\n              token: token,\r\n            },\r\n          }\r\n        )\r\n        .then((res) => res.data)\r\n        .then((data) => {\r\n          if (data.status === 400) {\r\n            window.alert(data.message);\r\n          } else {\r\n            window.alert(data.message);\r\n            window.location.replace(`http://${window.location.host}/login`);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Grid>\r\n      <Paper elevation={10} style={paperStyle}>\r\n        <Grid align=\"center\">\r\n          <Avatar style={avatarStyle}>\r\n            <LockOutlinedIcon style={{ backgroundColor: \"rgb(51, 70, 176)\" }} />\r\n          </Avatar>\r\n          <h2 style={{ marginTop: \"20px\" }}>Reset Password</h2>\r\n        </Grid>\r\n        <TextField\r\n          label=\"New Password\"\r\n          placeholder=\"Enter new password\"\r\n          type=\"password\"\r\n          fullWidth\r\n          required\r\n          style={{ marginTop: \"7px\" }}\r\n          value={password}\r\n          onChange={(event) => {\r\n            setPassword(event.target.value);\r\n          }}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          style={btnstyle}\r\n          fullWidth\r\n          onClick={postNewPassword}\r\n        >\r\n          Reset\r\n        </Button>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n","import { Button } from \"@material-ui/core\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport axios from \"axios\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React, { useEffect } from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  button_menu: {\r\n    color: \"white\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst VerifyUser = ({\r\n  match: {\r\n    params: { token },\r\n  },\r\n}) => {\r\n  const classes = useStyles();\r\n  useEffect(() => {\r\n    verifyuser();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n  const verifyuser = () => {\r\n    axios\r\n      .get(`http://${window.location.host}/users/verifyUser/${token}`)\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        if (data.status === 400) {\r\n          window.alert(data.message);\r\n        } else {\r\n          window.alert(data.message);\r\n          window.location.replace(`http://${window.location.host}/login`);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"some error occured please check console\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\" style={{ marginBottom: \"5px\" }}>\r\n          <Toolbar>\r\n            <IconButton\r\n              href=\"/\"\r\n              edge=\"start\"\r\n              className={classes.menuButton}\r\n              color=\"inherit\"\r\n              aria-label=\"home\"\r\n            >\r\n              <HomeIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Payment management service\r\n            </Typography>\r\n            <div>\r\n              <Button\r\n                className={classes.button_menu}\r\n                aria-controls=\"simple-menu\"\r\n                aria-haspopup=\"true\"\r\n                href=\"/login\"\r\n              >\r\n                Log In\r\n              </Button>\r\n            </div>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n      <Typography\r\n        style={{ marginTop: \"5px\" }}\r\n        variant=\"h5\"\r\n        component=\"h2\"\r\n        align=\"center\"\r\n        gutterBottom\r\n      >\r\n        You have been verified\r\n      </Typography>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default VerifyUser;\r\n","import { Grid, Paper, Avatar, TextField, Button } from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst ForgotPassword = () => {\r\n  const paperStyle = {\r\n    padding: 20,\r\n    height: \"70vh\",\r\n    width: 280,\r\n    margin: \"20px auto\",\r\n  };\r\n  const avatarStyle = { backgroundColor: \"rgb(51, 70, 176)\" };\r\n  const btnstyle = { margin: \"8px 0\", marginTop: \"68px\" };\r\n\r\n  const [Email, setEmail] = useState(\"\");\r\n\r\n  const findAndSendMail = () => {\r\n    axios\r\n      .put(`http://${window.location.host}/users/forgotPassword/${Email}`)\r\n      .then((res) => res.data)\r\n      .then((data) => {\r\n        if (data.status === 400) {\r\n          window.alert(data.message);\r\n        } else {\r\n          window.alert(data.message);\r\n          window.location.replace(`http://${window.location.host}/login`);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        window.alert(\"some error occured please check console\");\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Grid>\r\n      <Paper elevation={10} style={paperStyle}>\r\n        <Grid align=\"center\">\r\n          <Avatar style={avatarStyle}>\r\n            <LockOutlinedIcon style={{ backgroundColor: \"rgb(51, 70, 176)\" }} />\r\n          </Avatar>\r\n          <h2 style={{ marginTop: \"20px\" }}>Forgot Password</h2>\r\n        </Grid>\r\n        <TextField\r\n          label=\"Email\"\r\n          placeholder=\"Enter Email\"\r\n          type=\"Email\"\r\n          fullWidth\r\n          required\r\n          style={{ marginTop: \"7px\" }}\r\n          value={Email}\r\n          onChange={(event) => {\r\n            setEmail(event.target.value);\r\n          }}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          style={btnstyle}\r\n          fullWidth\r\n          onClick={findAndSendMail}\r\n        >\r\n          Send mail\r\n        </Button>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n","import NavBarAdmin from \"../components/nav-bar/nav-bar-admin\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport ResetPassword from \"../components/reset-password\";\r\nconst axios = require(\"axios\");\r\n\r\nconst AccountInfo = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  const [user, setUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      axios\r\n        .get(`http://${window.location.host}/users/single_user`, {\r\n          headers: {\r\n            token: token,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setUser(res.data);\r\n        })\r\n        .catch((err) => {\r\n          window.alert(\"some error occured please check console\");\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      window.alert(\"You are not logged in\");\r\n    }\r\n  }, [token]);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <NavBarAdmin username={user.name} token={token} />\r\n      <ResetPassword token={token} />\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default AccountInfo;\r\n","import { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport Dashboard from \"./pages/dashboard\";\r\nimport Login from \"./pages/login\";\r\nimport Register from \"./pages/register\";\r\nimport LoginRegister from \"./pages/login-register\";\r\nimport NotFound from \"./components/not-found\";\r\nimport Unapproved from \"./pages/unapproved\";\r\nimport UserPage from \"./pages/userPage\";\r\nimport ResetPassword from \"./pages/reset-password\";\r\nimport VerifyUser from \"./pages/verifyUser\";\r\nimport ForgotPassword from \"./pages/forgotpassword\";\r\nimport AccountInfo from \"./pages/myAccount\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={LoginRegister} />\r\n        <Route exact path=\"/dashboard\" component={Dashboard} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n        <Route exact path=\"/register\" component={Register} />\r\n        <Route exact path=\"/unapproved\" component={Unapproved} />\r\n        <Route exact path=\"/userPage\" component={UserPage} />\r\n        <Route exact path=\"/myAccount\" component={AccountInfo} />\r\n        <Route exact path=\"/forgotPassword\" component={ForgotPassword} />\r\n        <Route path=\"/resetPassword/:token\" component={ResetPassword} />\r\n        <Route path=\"/verifyUser/:token\" component={VerifyUser} />\r\n\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./app\";\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}